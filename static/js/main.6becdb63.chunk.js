(this["webpackJsonpjunior-workers"]=this["webpackJsonpjunior-workers"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,a,t){e.exports=t.p+"static/media/backgroundBig.f2b86eb1.jpg"},,function(e,a,t){},,,,,,,,,function(e,a,t){e.exports=t(46)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},,,,,,function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/main_image.afdbf1d8.png"},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var s=t(0),i=t.n(s),l=t(23),n=t.n(l),r=(t(31),t(3)),o=t(4),c=t(6),d=t(5),p=t(7),m=t(9),u=t(13),h=(t(32),t(2)),g=(t(33),t(1)),v=t.n(g),f=(t(35),t(36),function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this,e))).state={displayMessageFlag:t.props.displayMessageFlag,message:""},t.displayMessage=t.displayMessage.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.props.displayMessageFlag!==this.state.displayMessageFlag&&(this.setState({displayMessageFlag:this.props.displayMessageFlag}),""!==this.props.displayMessage&&null!==this.props.displayMessage&&this.displayMessage())}},{key:"displayMessage",value:function(){var e=this,a=document.querySelector(".DisplayMessage");a.classList.remove("deactivate-display-message"),this.setState({message:this.props.displayMessage}),setTimeout((function(){a.classList.add("deactivate-display-message"),e.setState({message:""})}),3e3)}},{key:"render",value:function(){return i.a.createElement("div",{className:"DisplayMessage deactivate-display-message"},i.a.createElement("p",null,this.state.message))}}]),a}(i.a.Component)),b=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).state={redirect:"",toggleLoginFlag:!1,email:"",password:"",displayMessageClass:"",displayMessage:"",displayMessageFlag:!1},t.toggleLogin=t.toggleLogin.bind(Object(h.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(h.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.props.toggleLoginFlag!==this.state.toggleLoginFlag&&(this.setState({toggleLoginFlag:this.props.toggleLoginFlag}),this.toggleLogin())}},{key:"toggleLogin",value:function(){var e=document.querySelector(".login");"flex"===e.style.display?(e.style.display="none",this.setState({displayMessageClass:""})):(e.style.display="flex",this.setState({displayMessageClass:i.a.createElement(f,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag})}))}},{key:"handleInputChange",value:function(e){"email"===e.target.name?this.setState({email:e.target.value}):"password"===e.target.name&&this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var a,t,s,l;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost/junior-workers/api/login.php",a={email:this.state.email,password:this.state.password},e.prev=2,e.next=5,v.a.awrap(fetch("http://localhost/junior-workers/api/login.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}));case 5:if(200===(t=e.sent).status){e.next=10;break}this.setState({displayMessageFlag:!this.state.displayMessageFlag,displayMessageClass:i.a.createElement(f,{displayMessage:"Unable to login",displayMessageFlag:!this.state.displayMessageFlag})}),e.next=18;break;case 10:if(200!==t.status){e.next=18;break}return e.next=13,v.a.awrap(t.json());case 13:s=e.sent,localStorage.setItem("jwt",s.jwt),l="","candidate"===s.role?l=i.a.createElement(u.a,{to:"/my-candidate-profil"}):"hirer"===s.role&&(l=i.a.createElement(u.a,{to:"/my-hirer-profil"})),this.setState({redirect:l});case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.error("Error:",e.t0),this.setState({displayMessageFlag:!this.state.displayMessageFlag,displayMessageClass:i.a.createElement(f,{displayMessage:"Unable to login",displayMessageFlag:!this.state.displayMessageFlag})});case 24:case"end":return e.stop()}}),null,this,[[2,20]])}},{key:"render",value:function(){return i.a.createElement("div",{className:"login"},this.state.redirect,this.state.displayMessageClass,i.a.createElement("div",{className:"login-form"},i.a.createElement("div",{className:"login-message",style:{color:"#D0321E"}},this.state.loginError),i.a.createElement("div",{className:"login-label"},"Email"),i.a.createElement("div",{className:"login-input-before fa fa-user"}),i.a.createElement("input",{name:"email",className:"login-input-text",type:"email",minLength:"6",maxLength:"90",placeholder:"John@mail.com",onChange:this.handleInputChange}),i.a.createElement("div",{className:"login-label"},"Password"),i.a.createElement("div",{className:"login-input-before fa fa-lock"}),i.a.createElement("input",{name:"password",className:"login-input-text",type:"password",minLength:"6",maxLength:"40",placeholder:"abc123",onChange:this.handleInputChange}),i.a.createElement("button",{className:"login-submit",onClick:this.handleSubmit},"Sign in")))}}]),a}(i.a.Component),E=(t(42),function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).state={toggleJoinFlag:!1,firstname:"",lastname:"",email:"",password:"",repassword:"",role:"candidate",displayMessageClass:"",displayMessage:"",displayMessageFlag:!1},t.toggleJoin=t.toggleJoin.bind(Object(h.a)(t)),t.handleChange=t.handleChange.bind(Object(h.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(h.a)(t)),t.resetAllInput=t.resetAllInput.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(){this.props.toggleJoinFlag!==this.state.toggleJoinFlag&&(this.setState({toggleJoinFlag:this.props.toggleJoinFlag}),this.toggleJoin())}},{key:"toggleJoin",value:function(){var e=document.querySelector(".join");"flex"===e.style.display?(e.style.display="none",this.setState({displayMessageClass:""})):(e.style.display="flex",this.setState({displayMessageClass:i.a.createElement(f,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag})}))}},{key:"handleChange",value:function(e){e.preventDefault();var a=e.target.id;"join_firstname"===a?this.setState({firstname:e.target.value}):"join_lastname"===a?this.setState({lastname:e.target.value}):"join_email"===a?this.setState({email:e.target.value}):"join_password"===a?this.setState({password:e.target.value}):"join_repassword"===a?this.setState({repassword:e.target.value}):"join_role"===a&&this.setState({role:e.target.value})}},{key:"handleSubmit",value:function(e){var a,t;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),this.state.password===this.state.repassword){s.next=5;break}this.setState({displayMessageFlag:!this.state.displayMessageFlag,displayMessageClass:i.a.createElement(f,{displayMessage:"Password doesn't match the verified password",displayMessageFlag:!this.state.displayMessageFlag})}),s.next=27;break;case 5:return a={email:this.state.email,password:this.state.password,firstname:this.state.firstname,lastname:this.state.lastname,role:this.state.role},"http://localhost/junior-workers/api/create-user.php",s.prev=7,s.next=10,v.a.awrap(fetch("http://localhost/junior-workers/api/create-user.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}));case 10:if(200===(t=s.sent).status){s.next=15;break}this.setState({displayMessageFlag:!this.state.displayMessageFlag,displayMessageClass:i.a.createElement(f,{displayMessage:"Email exists",displayMessageFlag:!this.state.displayMessageFlag})}),s.next=21;break;case 15:if(200!==t.status){s.next=21;break}return s.next=18,v.a.awrap(t.json());case 18:s.sent,this.setState({displayMessageFlag:!this.state.displayMessageFlag,displayMessageClass:i.a.createElement(f,{displayMessage:"User created",displayMessageFlag:!this.state.displayMessageFlag})}),this.resetAllInput();case 21:s.next=27;break;case 23:s.prev=23,s.t0=s.catch(7),console.error("Error:",s.t0),this.setState({displayMessageFlag:!this.state.displayMessageFlag,displayMessageClass:i.a.createElement(f,{displayMessage:"Unable to create user",displayMessageFlag:!this.state.displayMessageFlag})});case 27:case"end":return s.stop()}}),null,this,[[7,23]])}},{key:"resetAllInput",value:function(){document.getElementById("join_firstname").value="",document.getElementById("join_lastname").value="",document.getElementById("join_email").value="",document.getElementById("join_password").value="",document.getElementById("join_repassword").value=""}},{key:"render",value:function(){return i.a.createElement("div",{className:"join"},this.state.displayMessageClass,i.a.createElement("form",{className:"join-form",onSubmit:this.handleSubmit},i.a.createElement("div",{className:"join-message"},"Account Creation"),i.a.createElement("div",{className:"join-message",style:{color:"#D0321E",fontSize:"26px"}},this.state.joinMessage),i.a.createElement("div",{className:"join-section"},i.a.createElement("div",{className:"join-title-label"},"Account ID"),i.a.createElement("div",{className:"join-label"},"Email"),i.a.createElement("input",{className:"join-input-text",type:"email",minLength:"6",maxLength:"30",placeholder:"johnDelta",required:!0,name:"email",id:"join_email",onChange:this.handleChange}),i.a.createElement("div",{className:"join-label"},"Password"),i.a.createElement("input",{className:"join-input-text",type:"password",minLength:"6",maxLength:"30",placeholder:"John123DEL",required:!0,name:"password",id:"join_password",onChange:this.handleChange}),i.a.createElement("div",{className:"join-label"},"Verify password"),i.a.createElement("input",{className:"join-input-text",type:"password",minLength:"6",maxLength:"30",placeholder:"John123DEL",required:!0,name:"repassword",id:"join_repassword",onChange:this.handleChange}),i.a.createElement("div",{className:"join-label"},"Role"),i.a.createElement("select",{className:"join-role",defaultValue:"candidate",name:"role",id:"join_role",onChange:this.handleChange},i.a.createElement("option",{value:"candidate"},"Candidate"),i.a.createElement("option",{value:"hirer"},"Hirer"))),i.a.createElement("div",{className:"join-section"},i.a.createElement("div",{className:"join-title-label"},"Personal info"),i.a.createElement("div",{className:"join-label"},"Name"),i.a.createElement("input",{className:"join-input-text",type:"text",minLength:"2",maxLength:"40",placeholder:"John",required:!0,name:"firstname",id:"join_firstname",onChange:this.handleChange}),i.a.createElement("div",{className:"join-label"},"Lastname"),i.a.createElement("input",{className:"join-input-text",type:"text",minLength:"2",maxLength:"40",placeholder:"Deligiannis",required:!0,name:"lastname",id:"join_lastname",onChange:this.handleChange})),i.a.createElement("button",{className:"join-submit",type:"submit"},"Create account")))}}]),a}(i.a.Component)),y=function(e){function a(){var e;return Object(r.a)(this,a),(e=Object(c.a)(this,Object(d.a)(a).call(this))).state={toggleLoginFlag:!1,loginButtonText:"Login",toggleJoinFlag:!1,joinButtonText:"Join our community",joinError:"",redirect:"",searchInput:""},e.onClickLoginHandle=e.onClickLoginHandle.bind(Object(h.a)(e)),e.onClickJoinHandle=e.onClickJoinHandle.bind(Object(h.a)(e)),e.search=e.search.bind(Object(h.a)(e)),e.searchChange=e.searchChange.bind(Object(h.a)(e)),e}return Object(p.a)(a,e),Object(o.a)(a,[{key:"onClickLoginHandle",value:function(){"X"===this.state.joinButtonText&&this.onClickJoinHandle(),this.setState({toggleLoginFlag:!this.state.toggleLoginFlag});var e=document.querySelector(".login-button");"Login"===this.state.loginButtonText?(this.setState({loginButtonText:"X"}),e.classList.add("login-button-active")):(this.setState({loginButtonText:"Login"}),e.classList.remove("login-button-active"))}},{key:"onClickJoinHandle",value:function(){"X"===this.state.loginButtonText&&this.onClickLoginHandle(),this.setState({toggleJoinFlag:!this.state.toggleJoinFlag});var e=document.querySelector(".join-button");"Join our community"===this.state.joinButtonText?(this.setState({joinButtonText:"X"}),e.classList.add("join-button-active")):(this.setState({joinButtonText:"Join our community"}),e.classList.remove("join-button-active"))}},{key:"searchChange",value:function(e){e.preventDefault();var a=document.getElementById("search-input").value;this.setState({searchInput:a})}},{key:"search",value:function(e){e.preventDefault(),localStorage.setItem("searchInput",this.state.searchInput);var a=i.a.createElement(u.a,{to:"/search"});this.setState({redirect:a})}},{key:"render",value:function(){return i.a.createElement("div",{className:"Home"},this.state.redirect,i.a.createElement("img",{id:"bg",className:"background",src:t(15)}),i.a.createElement("div",{className:"logo"},i.a.createElement("div",{className:"title1"},"Junior"),i.a.createElement("div",{className:"title2"},"Workers"),i.a.createElement("div",{className:"logo-circle"})),i.a.createElement("button",{className:"join-button",onClick:this.onClickJoinHandle,value:"join"},this.state.joinButtonText),i.a.createElement(E,{toggleJoinFlag:this.state.toggleJoinFlag}),i.a.createElement("button",{className:"login-button",onClick:this.onClickLoginHandle,value:"login"},this.state.loginButtonText),i.a.createElement(b,{toggleLoginFlag:this.state.toggleLoginFlag}),i.a.createElement("div",{className:"main"},i.a.createElement("h1",{className:"title"},i.a.createElement("span",null,"Your professional"),i.a.createElement("span",null,"career starts"),i.a.createElement("span",null,"here"),i.a.createElement("div",{className:"main-search"},i.a.createElement("input",{type:"text",placeholder:"ex. Web Developer",id:"search-input",onChange:this.searchChange}),i.a.createElement("button",{onClick:this.search},i.a.createElement("i",{className:"fa fa-search"})))),i.a.createElement("img",{className:"image",src:t(43)})),i.a.createElement("div",{className:"infos",id:"infos"},i.a.createElement("h2",{className:"infos-title"},"Use Junior Workers and find your place in job industry"),i.a.createElement("div",{className:"info"},i.a.createElement("div",{className:"info-title"},"Recruiters",i.a.createElement("br",null),"can"),i.a.createElement("div",{className:"info-uses"},i.a.createElement("div",{className:"info-use"},"Search workers"),i.a.createElement("div",{className:"info-use"},"Create a job post"))),i.a.createElement("div",{className:"info"},i.a.createElement("div",{className:"info-title"},"Workers",i.a.createElement("br",null),"can"),i.a.createElement("div",{className:"info-uses"},i.a.createElement("div",{className:"info-use"},"Search job posts"),i.a.createElement("div",{className:"info-use"},"Create a professional profil")))),i.a.createElement("div",{className:"footer"},i.a.createElement("div",null,"Designed and Coded by"),i.a.createElement("a",{href:"https://github.com/JohnDelta",target:"_blank",title:"Visit my github profile!",rel:"noopener noreferrer"},"John Deligiannis")))}}]),a}(i.a.Component),k=(t(17),t(44),function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).toggleNavbar=t.toggleNavbar.bind(Object(h.a)(t)),t.handleLogout=t.handleLogout.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"toggleNavbar",value:function(){document.querySelector(".nav-links").classList.toggle("nav-links-active"),document.querySelectorAll(".nav-toggle div").forEach((function(e,a){e.classList.toggle("div"+(a+1)+"-active")})),document.querySelector(".Navbar").classList.toggle("navbar-active")}},{key:"handleLogout",value:function(){localStorage.clear()}},{key:"render",value:function(){var e={},a={},t={};return"profil"===this.props.selectedLink&&(e={color:"#F25F5C"}),"search"===this.props.selectedLink&&(a={color:"#F25F5C"}),i.a.createElement("div",{className:"Navbar"},i.a.createElement("div",{className:"nav-toggle",onClick:this.toggleNavbar},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)),i.a.createElement("ul",{className:"nav-links"},i.a.createElement("li",{className:"nav-link"},i.a.createElement(m.b,{className:"text",to:"/search",style:a},i.a.createElement("i",{className:"fa fa-search",style:a}),i.a.createElement("p",null,"Home"))),i.a.createElement("li",{className:"nav-link"},i.a.createElement(m.b,{className:"text",to:"/my-"+this.props.role+"-profil",style:e},i.a.createElement("i",{className:"fa fa-user",style:e}),i.a.createElement("p",null,"Profil"))),i.a.createElement("li",{className:"nav-link nav-down"},i.a.createElement(m.b,{onClick:this.handleLogout,className:"text",to:"/",style:t},i.a.createElement("i",{className:"fa fa-sign-out",style:t}),i.a.createElement("p",null,"Exit")))))}}]),a}(i.a.Component)),j=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).state={redirect:"",jwt:localStorage.getItem("jwt"),editFlag:!1,disabled:!0,readonly:!0,dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],experience:[],skill:[],education:[],language:[]},displayMessage:"",displayMessageFlag:!1},t.toggleEdit=t.toggleEdit.bind(Object(h.a)(t)),t.getUserData=t.getUserData.bind(Object(h.a)(t)),t.userHeaderChange=t.userHeaderChange.bind(Object(h.a)(t)),t.availabilityChange=t.availabilityChange.bind(Object(h.a)(t)),t.discardChanges=t.discardChanges.bind(Object(h.a)(t)),t.saveChanges=t.saveChanges.bind(Object(h.a)(t)),t.userDataChange=t.userDataChange.bind(Object(h.a)(t)),t.removeUserData=t.removeUserData.bind(Object(h.a)(t)),t.addUserData=t.addUserData.bind(Object(h.a)(t)),t.getDropListData=t.getDropListData.bind(Object(h.a)(t)),t.imageChange=t.imageChange.bind(Object(h.a)(t)),t.removeImage=t.removeImage.bind(Object(h.a)(t)),t.videoChange=t.videoChange.bind(Object(h.a)(t)),t.removeVideo=t.removeVideo.bind(Object(h.a)(t)),t.resumeChange=t.resumeChange.bind(Object(h.a)(t)),t.removeResume=t.removeResume.bind(Object(h.a)(t)),t.downloadResume=t.downloadResume.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.removeItem("email"),null===this.state.jwt){var e=i.a.createElement(u.a,{to:"/"});this.setState({redirect:e})}this.getUserData(),this.getDropListData()}},{key:"toggleEdit",value:function(){this.setState({editFlag:!this.state.editFlag});var e=document.getElementById("edit-button");e.classList.contains("fa-times")?(e.classList.remove("fa-times"),e.classList.add("fa-edit")):(e.classList.remove("fa-edit"),e.classList.add("fa-times")),this.setState({disabled:!this.state.disabled,readonly:!this.state.readonly})}},{key:"userHeaderChange",value:function(e){e.preventDefault();var a=e.target.id,t=e.target.value,s=this.state.data;"firstname"===a?s.user.firstname=t:"lastname"===a?s.user.lastname=t:"title"===a?s.user.title=t:"bio"===a&&(s.user.bio=t),this.setState({data:s})}},{key:"availabilityChange",value:function(){var e;"1"===this.state.data.user.availability?((e=this.state.data).user.availability="0",this.setState({data:e})):((e=this.state.data).user.availability="1",this.setState({data:e}))}},{key:"userDataChange",value:function(e){e.preventDefault();var a=e.target.value,t=e.target.id.split("__"),s=t[0],i=t[1],l=t[2],n=this.state.data;n[s][i][l]=a,this.setState({data:n})}},{key:"addUserData",value:function(e){e.preventDefault();var a=this.state.data,t=e.target.name;"experience"===t?a.experience.push({id_profession:this.state.dropListData.profession[0].id_profession,company:"",date:""}):"skill"===t?a.skill.push({id_skill:this.state.dropListData.skill[0].id_skill}):"education"===t?a.education.push({id_education:this.state.dropListData.education[0].id_education,id_education_level:this.state.dropListData.education_level[0].id_education_level}):"language"===t&&a.language.push({id_language:this.state.dropListData.language[0].id_language,id_language_level:this.state.dropListData.language_level[0].id_language_level}),this.setState({data:a})}},{key:"removeUserData",value:function(e){e.preventDefault();var a=e.target.id.split("__"),t=a[0],s=a[1],i=this.state.data;i[t][s]="",this.setState({data:i})}},{key:"discardChanges",value:function(){this.setState({data:{user:[],experience:[],skill:[],education:[],language:[]}}),this.getUserData(),this.toggleEdit()}},{key:"imageChange",value:function(e){var a,t,s,i,l,n,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),a=document.getElementById("image-file").files[0],t=a.name,s=["png","jpg","jpeg"],i=t.split(".").pop().toLowerCase(),!s.includes(i)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-image.php",(l=new FormData).append("image_file",a),l.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-image.php",{method:"POST",body:l}));case 13:return n=o.sent,o.next=16,v.a.awrap(n.json());case 16:r=o.sent,200!==n.status?"1"===r.code?this.setState({displayMessage:"Unable to upload image"}):"2"===r.code?this.setState({displayMessage:"Image not in proper format"}):"3"===r.code&&this.setState({displayMessage:"Image's size cannot be larger than 10mb"}):200===n.status&&"0"===r.code&&(this.setState({displayMessage:"Profil image has been updated"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload image"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeImage",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/remove-user-image.php",e={jwt:this.state.jwt},t.prev=2,t.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-image.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:200!==(a=t.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove image",displayMessageFlag:!this.state.displayMessageFlag})):200===a.status&&(this.setState({displayMessage:"Profil image has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Error:",t.t0);case 12:case"end":return t.stop()}}),null,this,[[2,9]])}},{key:"videoChange",value:function(e){var a,t,s,i,l,n,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),a=document.getElementById("video-file").files[0],t=a.name,s=["mp4"],i=t.split(".").pop().toLowerCase(),!s.includes(i)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-video.php",(l=new FormData).append("video_file",a),l.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-video.php",{method:"POST",body:l}));case 13:return n=o.sent,o.next=16,v.a.awrap(n.json());case 16:"1"===(r=o.sent).code?this.setState({displayMessage:"Unable to upload video"}):"2"===r.code?this.setState({displayMessage:"Video not in proper format (MP4)"}):"3"===r.code?this.setState({displayMessage:"Video's size cannot be larger than 50mb"}):"0"===r.code&&(this.setState({displayMessage:"Video has been Added"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload video"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension (MP4)."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeVideo",value:function(e){var a,t;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),"http://localhost:80//junior-workers/api/remove-user-video.php",a={jwt:this.state.jwt},s.prev=3,s.next=6,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-video.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}));case 6:200!==(t=s.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove video",displayMessageFlag:!this.state.displayMessageFlag})):200===t.status&&this.setState({displayMessage:"Profil video has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData(),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(3),console.error("Error:",s.t0);case 14:case"end":return s.stop()}}),null,this,[[3,11]])}},{key:"resumeChange",value:function(e){var a,t,s,i,l,n,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),a=document.getElementById("resume-file").files[0],t=a.name,s=["pdf"],i=t.split(".").pop().toLowerCase(),!s.includes(i)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-resume.php",(l=new FormData).append("resume_file",a),l.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-resume.php",{method:"POST",body:l}));case 13:return n=o.sent,o.next=16,v.a.awrap(n.json());case 16:"1"===(r=o.sent).code?this.setState({displayMessage:"Unable to upload resume"}):"2"===r.code?this.setState({displayMessage:"Resume not in proper format"}):"3"===r.code?this.setState({displayMessage:"Resume's size cannot be larger than 10mb"}):"0"===r.code&&(this.setState({displayMessage:"Resume has been Added"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload resume"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeResume",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/remove-user-resume.php",e={jwt:this.state.jwt},t.prev=2,t.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-resume.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:200!==(a=t.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove resume",displayMessageFlag:!this.state.displayMessageFlag})):200===a.status&&(this.setState({displayMessage:"Resume has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Error:",t.t0);case 12:case"end":return t.stop()}}),null,this,[[2,9]])}},{key:"saveChanges",value:function(e){var a,t;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),"http://localhost:80//junior-workers/api/post-user-data.php",a={jwt:this.state.jwt,data:this.state.data},s.prev=3,s.next=6,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}));case 6:200!==(t=s.sent).status?console.error("Unable to post user's data"):200===t.status&&(this.getUserData(),this.toggleEdit()),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(3),console.error("Error:",s.t0);case 13:case"end":return s.stop()}}),null,this,[[3,10]])}},{key:"getUserData",value:function(){var e,a,t,s;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return"http://localhost:80//junior-workers/api/get-user-data.php",e={jwt:this.state.jwt},l.prev=2,l.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(a=l.sent).status){l.next=10;break}console.error("Unable to get user's data"),l.next=18;break;case 10:if(200!==a.status){l.next=18;break}return l.next=13,v.a.awrap(a.json());case 13:t=l.sent,this.setState({data:t}),s="","hirer"===this.state.data.user.role&&(s=i.a.createElement(u.a,{to:"/my-hirer-profil"})),this.setState({redirect:s});case 18:l.next=23;break;case 20:l.prev=20,l.t0=l.catch(2),console.error("Error:",l.t0);case 23:case"end":return l.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",t.prev=1,t.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=t.sent).status){t.next=9;break}console.error("Unable to get drop list data"),t.next=14;break;case 9:if(200!==e.status){t.next=14;break}return t.next=12,v.a.awrap(e.json());case 12:a=t.sent,this.setState({dropListData:a});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error:",t.t0);case 19:case"end":return t.stop()}}),null,this,[[1,16]])}},{key:"downloadResume",value:function(){var e,a=this;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:"http://localhost:80//junior-workers/api/get-user-resume.php",(e=new FormData).append("email",this.state.data.user.email),e.append("jwt",this.state.jwt),fetch("http://localhost:80//junior-workers/api/get-user-resume.php",{method:"POST",body:e}).then((function(e){200===e.status?e.blob().then((function(e){var a=window.URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="resume.pdf",t.click()})):a.setState({displayMessage:"Unable to download resume",displayMessageFlag:!a.state.displayMessageFlag})}));case 5:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this,a="",s="",l="",n="",r="",o="",c="",d="",p="";this.state.editFlag&&(a=i.a.createElement("div",{className:"change-buttons"},i.a.createElement("button",{type:"submit"},i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("button",{onClick:this.discardChanges},i.a.createElement("i",{className:"fa fa-times"}))),s=i.a.createElement("button",{className:"profil-availability-button",onClick:this.availabilityChange},i.a.createElement("i",{className:"fa fa-refresh"})),l=i.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"experience"},i.a.createElement("i",{className:"fa fa-plus"}),"Add Experience"),n=i.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"skill"},i.a.createElement("i",{className:"fa fa-plus"}),"Add Skill"),r=i.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"education"},i.a.createElement("i",{className:"fa fa-plus"}),"Add Education"),o=i.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"language"},i.a.createElement("i",{className:"fa fa-plus"}),"Add Language"),c=i.a.createElement("div",{className:"profil-image-buttons"},i.a.createElement("label",{htmlFor:"image-file",title:"upload new profil picture"},i.a.createElement("i",{className:"fa fa-upload"})),i.a.createElement("input",{id:"image-file",type:"file",onChange:this.imageChange,name:"image"}),i.a.createElement("button",{title:"remove saved profil picture",onClick:this.removeImage},i.a.createElement("i",{className:"fa fa-trash"}))),d=i.a.createElement("div",{className:"video-buttons"},i.a.createElement("label",{htmlFor:"video-file",className:"label",title:"Upload new video"},i.a.createElement("i",{className:"fa fa-upload"})),i.a.createElement("input",{id:"video-file",type:"file",name:"video-file",onChange:this.videoChange}),i.a.createElement("button",{title:"Remove current video",onClick:this.removeVideo},i.a.createElement("i",{className:"fa fa-trash"}))),p=i.a.createElement("div",{className:"resume-edit-buttons"},i.a.createElement("label",{htmlFor:"resume-file",className:"label",title:"Upload new resume"},i.a.createElement("i",{className:"fa fa-upload"})),i.a.createElement("input",{id:"resume-file",type:"file",name:"resume",onChange:this.resumeChange}),i.a.createElement("button",{title:"Remove current resume",onClick:this.removeResume},i.a.createElement("i",{className:"fa fa-trash"}))));var m="";""!==this.state.data.user.video_path&&null!==this.state.data.user.video_path&&(m=i.a.createElement("video",{className:"video",type:"video/mp4",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.video_path,controls:!0},"Unable to play video. Please consider updating your browser."));var u="";""!==this.state.data.user.resume_path&&null!==this.state.data.user.resume_path?u=i.a.createElement("button",{className:"profil-resume-button",onClick:this.downloadResume},i.a.createElement("i",{className:"fa fa-arrow-down"}),"Resume"):this.state.editFlag&&(u=i.a.createElement("div",{style:{color:"#ffffff"}},"Upload your resume here"));var h=i.a.createElement("p",null,"Not available");"1"===this.state.data.user.availability&&(h=i.a.createElement("p",null,"Available"));var g=[];this.state.data.experience.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"work-remove",id:"experience__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.profession.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_profession,key:"profession_option__"+t+"__"+a},e.title))})),g.push(i.a.createElement("div",{className:"work",key:"experience"+t},i.a.createElement("p",{className:"work-label"},"Worked as"),i.a.createElement("select",{id:"experience__"+t+"__id_profession",disabled:e.state.disabled,value:a.id_profession,onChange:e.userDataChange},l),i.a.createElement("p",{className:"work-label"},"At"),i.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+t+"__company",onChange:e.userDataChange,defaultValue:a.company,placeholder:"company",required:!0}),i.a.createElement("p",{className:"work-label"},"Between"),i.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+t+"__date",onChange:e.userDataChange,defaultValue:a.date,placeholder:"date",required:!0}),s))}})),this.state.data.experience!==[]&&0!==this.state.data.experience.length||(g="No experience so far");var v=[];this.state.data.skill.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"skill-remove",id:"skill__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.skill.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_skill,key:"skill_option__"+t+"__"+a},e.title))})),v.push(i.a.createElement("div",{className:"skill",key:"skill"+t},i.a.createElement("div",{className:"skill-dot"}),i.a.createElement("select",{id:"skill__"+t+"__id_skill",disabled:e.state.disabled,value:a.id_skill,onChange:e.userDataChange},l),s))}})),this.state.data.skill!==[]&&0!==this.state.data.skill.length||(v="No skills so far");var b=[];this.state.data.education.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"education-remove",id:"education__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.education.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_education,key:"education_option__"+t+"__"+a},e.title))}));var n=[];e.state.dropListData.education_level.forEach((function(e,a){n.push(i.a.createElement("option",{value:e.id_education_level,key:"education_level_option__"+t+"__"+a},e.title))})),b.push(i.a.createElement("div",{className:"education",key:"education"+t},i.a.createElement("div",{className:"education-dot"}),i.a.createElement("select",{id:"education__"+t+"__id_education_level",disabled:e.state.disabled,value:a.id_education_level,onChange:e.userDataChange},n),i.a.createElement("select",{id:"education__"+t+"__id_education",disabled:e.state.disabled,value:a.id_education,onChange:e.userDataChange},l),s))}})),this.state.data.education!==[]&&0!==this.state.data.education.length||(b="No education so far");var E=[];return this.state.data.language.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"language-remove",id:"language__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.language.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_language,key:"language_option__"+t+"__"+a},e.title))}));var n=[];e.state.dropListData.language_level.forEach((function(e,a){n.push(i.a.createElement("option",{value:e.id_language_level,key:"language_level_option__"+t+"__"+a},e.title))})),E.push(i.a.createElement("div",{className:"language",key:"language"+t},i.a.createElement("div",{className:"language-dot"}),i.a.createElement("select",{id:"language__"+t+"__id_language_level",disabled:e.state.disabled,value:a.id_language_level,onChange:e.userDataChange},n),i.a.createElement("select",{id:"language__"+t+"__id_language",value:a.id_language,disabled:e.state.disabled,onChange:e.userDataChange},l),s))}})),this.state.data.language!==[]&&0!==this.state.data.language.length||(E="No language so far"),i.a.createElement("div",{className:"Profil"},this.state.redirect,i.a.createElement(f,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag}),i.a.createElement("img",{id:"bg",className:"background",src:t(15)}),i.a.createElement("div",{className:"logo"},i.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),i.a.createElement("div",{className:"title2"},"Workers")),i.a.createElement(k,{selectedLink:"profil",role:this.state.data.user.role}),i.a.createElement("div",{className:"profil-container"},i.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),i.a.createElement("div",{className:"profil-header"},i.a.createElement("button",{className:"profil-edit-btn",onClick:this.toggleEdit},i.a.createElement("i",{className:"fa fa-edit",id:"edit-button"})),i.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname",onChange:this.userHeaderChange}),i.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname",onChange:this.userHeaderChange}),i.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Profession title",id:"title",onChange:this.userHeaderChange})),i.a.createElement("div",{className:"profil-header2"},c,i.a.createElement("div",{className:"profil-availability"},h,s),i.a.createElement("div",{className:"profil-resume"},u,p)),i.a.createElement("form",{className:"profil-content",id:"profil-form",onSubmit:this.saveChanges},i.a.createElement("div",{className:"title title-first"},i.a.createElement("p",null,"About")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"about"},i.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",onChange:this.userHeaderChange,placeholder:"Write something about yourself...",value:this.state.data.user.bio}),m,d)),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Work Experience")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},g,l),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Skills")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},v,n),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Education")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},b,r),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Language")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},E,o),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Contact Info")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email),a)))}}]),a}(i.a.Component),_=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).state={redirect:"",jwt:localStorage.getItem("jwt"),editFlag:!1,disabled:!0,readonly:!0,dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],job_post:[]},displayMessage:"",displayMessageFlag:!1},t.toggleEdit=t.toggleEdit.bind(Object(h.a)(t)),t.getUserData=t.getUserData.bind(Object(h.a)(t)),t.userHeaderChange=t.userHeaderChange.bind(Object(h.a)(t)),t.availabilityChange=t.availabilityChange.bind(Object(h.a)(t)),t.discardChanges=t.discardChanges.bind(Object(h.a)(t)),t.saveChanges=t.saveChanges.bind(Object(h.a)(t)),t.userDataChange=t.userDataChange.bind(Object(h.a)(t)),t.removeUserData=t.removeUserData.bind(Object(h.a)(t)),t.addUserData=t.addUserData.bind(Object(h.a)(t)),t.getDropListData=t.getDropListData.bind(Object(h.a)(t)),t.imageChange=t.imageChange.bind(Object(h.a)(t)),t.removeImage=t.removeImage.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.removeItem("email"),null===this.state.jwt){var e=i.a.createElement(u.a,{to:"/"});this.setState({redirect:e})}this.getUserData(),this.getDropListData()}},{key:"toggleEdit",value:function(){this.setState({editFlag:!this.state.editFlag});var e=document.getElementById("edit-button");e.classList.contains("fa-times")?(e.classList.remove("fa-times"),e.classList.add("fa-edit")):(e.classList.remove("fa-edit"),e.classList.add("fa-times")),this.setState({disabled:!this.state.disabled,readonly:!this.state.readonly})}},{key:"userHeaderChange",value:function(e){e.preventDefault();var a=e.target.id,t=e.target.value,s=this.state.data;"firstname"===a?s.user.firstname=t:"lastname"===a?s.user.lastname=t:"title"===a?s.user.title=t:"bio"===a&&(s.user.bio=t),this.setState({data:s})}},{key:"availabilityChange",value:function(){var e;"1"===this.state.data.user.availability?((e=this.state.data).user.availability="0",this.setState({data:e})):((e=this.state.data).user.availability="1",this.setState({data:e}))}},{key:"userDataChange",value:function(e){e.preventDefault();var a=e.target.value,t=e.target.id.split("__"),s=t[0],i=t[1],l=t[2],n=this.state.data;n[s][i][l]=a,this.setState({data:n})}},{key:"addUserData",value:function(e){e.preventDefault();var a=this.state.data;"job_post"===e.target.name&&a.job_post.push({id_profession:this.state.dropListData.profession[0].id_profession,title:"",description:""}),this.setState({data:a})}},{key:"removeUserData",value:function(e){e.preventDefault();var a=e.target.id.split("__"),t=a[0],s=a[1],i=this.state.data;i[t][s]="",this.setState({data:i})}},{key:"discardChanges",value:function(){this.setState({data:{user:[],job_post:[]}}),this.getUserData(),this.toggleEdit()}},{key:"imageChange",value:function(e){var a,t,s,i,l,n,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),a=document.getElementById("image-file").files[0],t=a.name,s=["png","jpg","jpeg"],i=t.split(".").pop().toLowerCase(),!s.includes(i)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-image.php",(l=new FormData).append("image_file",a),l.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-image.php",{method:"POST",body:l}));case 13:return n=o.sent,o.next=16,v.a.awrap(n.json());case 16:r=o.sent,200!==n.status?"1"===r.code?this.setState({displayMessage:"Unable to upload image"}):"2"===r.code?this.setState({displayMessage:"Image not in proper format"}):"3"===r.code&&this.setState({displayMessage:"Image's size cannot be larger than 10mb"}):200===n.status&&"0"===r.code&&(this.setState({displayMessage:"Profil image has been updated"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload image"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeImage",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/remove-user-image.php",e={jwt:this.state.jwt},t.prev=2,t.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-image.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:200!==(a=t.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove image",displayMessageFlag:!this.state.displayMessageFlag})):200===a.status&&(this.setState({displayMessage:"Profil image has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Error:",t.t0);case 12:case"end":return t.stop()}}),null,this,[[2,9]])}},{key:"saveChanges",value:function(e){var a,t;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),"http://localhost:80//junior-workers/api/post-user-data.php",a={jwt:this.state.jwt,data:this.state.data},s.prev=3,s.next=6,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}));case 6:200!==(t=s.sent).status?console.error("Unable to post user's data"):200===t.status&&(this.getUserData(),this.toggleEdit()),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(3),console.error("Error:",s.t0);case 13:case"end":return s.stop()}}),null,this,[[3,10]])}},{key:"getUserData",value:function(){var e,a,t,s;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return"http://localhost:80//junior-workers/api/get-user-data.php",e={jwt:this.state.jwt},l.prev=2,l.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(a=l.sent).status){l.next=10;break}console.error("Unable to get user's data"),l.next=18;break;case 10:if(200!==a.status){l.next=18;break}return l.next=13,v.a.awrap(a.json());case 13:t=l.sent,this.setState({data:t}),s="","candidate"===this.state.data.user.role&&(s=i.a.createElement(u.a,{to:"/my-candidate-profil"})),this.setState({redirect:s});case 18:l.next=23;break;case 20:l.prev=20,l.t0=l.catch(2),console.error("Error:",l.t0);case 23:case"end":return l.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",t.prev=1,t.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=t.sent).status){t.next=9;break}console.error("Unable to get drop list data"),t.next=14;break;case 9:if(200!==e.status){t.next=14;break}return t.next=12,v.a.awrap(e.json());case 12:a=t.sent,this.setState({dropListData:a});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error:",t.t0);case 19:case"end":return t.stop()}}),null,this,[[1,16]])}},{key:"render",value:function(){var e=this,a="",s="",l="",n="";this.state.editFlag&&(a=i.a.createElement("div",{className:"change-buttons"},i.a.createElement("button",{type:"submit"},i.a.createElement("i",{className:"fa fa-check"})),i.a.createElement("button",{onClick:this.discardChanges},i.a.createElement("i",{className:"fa fa-times"}))),s=i.a.createElement("button",{className:"profil-availability-button",onClick:this.availabilityChange},i.a.createElement("i",{className:"fa fa-refresh"})),l=i.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"job_post"},i.a.createElement("i",{className:"fa fa-plus"}),"Add Job Post"),n=i.a.createElement("div",{className:"profil-image-buttons"},i.a.createElement("label",{htmlFor:"image-file",title:"upload new profil picture"},i.a.createElement("i",{className:"fa fa-upload"})),i.a.createElement("input",{id:"image-file",type:"file",onChange:this.imageChange,name:"image"}),i.a.createElement("button",{title:"remove saved profil picture",onClick:this.removeImage},i.a.createElement("i",{className:"fa fa-trash"}))));var r=i.a.createElement("p",null,"Not Hiring");"1"===this.state.data.user.availability&&(r=i.a.createElement("p",null,"Hiring"));var o=[];return this.state.data.job_post.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"work-remove",id:"job_post__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.profession.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_profession,key:"profession_option__"+t+"__"+a},e.title))})),o.push(i.a.createElement("div",{className:"post",key:"job_post"+t},i.a.createElement("p",{className:"post-label"},"Job title"),i.a.createElement("textarea",{type:"text",readOnly:e.state.readonly,id:"job_post__"+t+"__title",onChange:e.userDataChange,defaultValue:a.title,placeholder:"Job title",required:!0}),i.a.createElement("p",{className:"post-label"},"Looking for"),i.a.createElement("select",{id:"job_post__"+t+"__id_profession",disabled:e.state.disabled,value:a.id_profession,onChange:e.userDataChange},l),i.a.createElement("p",{className:"post-label"},"Job Description"),i.a.createElement("textarea",{readOnly:e.state.readonly,id:"job_post__"+t+"__description",onChange:e.userDataChange,defaultValue:a.description,placeholder:"Describe the position for the job here",required:!0}),s))}})),this.state.data.job_post!==[]&&0!==this.state.data.job_post.length||(o="No Job posts yet"),i.a.createElement("div",{className:"Profil"},this.state.redirect,i.a.createElement(f,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag}),i.a.createElement("img",{id:"bg",className:"background",src:t(15)}),i.a.createElement("div",{className:"logo"},i.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),i.a.createElement("div",{className:"title2"},"Workers")),i.a.createElement(k,{selectedLink:"profil",role:this.state.data.user.role}),i.a.createElement("div",{className:"profil-container"},i.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),i.a.createElement("div",{className:"profil-header"},i.a.createElement("button",{className:"profil-edit-btn",onClick:this.toggleEdit},i.a.createElement("i",{className:"fa fa-edit",id:"edit-button"})),i.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname",onChange:this.userHeaderChange}),i.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname",onChange:this.userHeaderChange}),i.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Company name",id:"title",onChange:this.userHeaderChange})),i.a.createElement("div",{className:"profil-header2"},n,i.a.createElement("div",{className:"profil-availability"},r,s)),i.a.createElement("form",{className:"profil-content",id:"profil-form",onSubmit:this.saveChanges},i.a.createElement("div",{className:"title title-first"},i.a.createElement("p",null,"About")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"about"},i.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",onChange:this.userHeaderChange,placeholder:"Write something about your company...",value:this.state.data.user.bio}))),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Job Posts")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},o,l),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Contact Info")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email),a)))}}]),a}(i.a.Component),N=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).state={redirect:"",email:localStorage.getItem("email"),role:localStorage.getItem("role"),jwt:localStorage.getItem("jwt"),disabled:!0,readonly:!0,data:{user:[],experience:[],skill:[],education:[],language:[],job_post:[]},dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},navbar:""},t.getUserData=t.getUserData.bind(Object(h.a)(t)),t.getDropListData=t.getDropListData.bind(Object(h.a)(t)),t.redirectBack=t.redirectBack.bind(Object(h.a)(t)),t.downloadResume=t.downloadResume.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){if(""===this.state.email||null===this.state.email){var e=i.a.createElement(u.a,{to:"/"});this.setState({redirect:e})}else this.getDropListData(),this.getUserData()}},{key:"getDropListData",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",t.prev=1,t.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=t.sent).status){t.next=9;break}console.error("Unable to get drop list data"),t.next=14;break;case 9:if(200!==e.status){t.next=14;break}return t.next=12,v.a.awrap(e.json());case 12:a=t.sent,this.setState({dropListData:a});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error:",t.t0);case 19:case"end":return t.stop()}}),null,this,[[1,16]])}},{key:"getUserData",value:function(){var e,a,t,s,l;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"http://localhost:80//junior-workers/api/get-view-user-data.php",e={email:this.state.email},n.prev=2,n.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-view-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(a=n.sent).status){n.next=12;break}console.error("Unable to get user's data"),t=i.a.createElement(u.a,{to:"/search"}),this.setState({redirect:t}),n.next=18;break;case 12:if(200!==a.status){n.next=18;break}return n.next=15,v.a.awrap(a.json());case 15:s=n.sent,this.setState({data:s}),null!==this.state.jwt&&""!==this.state.jwt&&(l=i.a.createElement(k,{selectedLink:"nothing",role:this.state.role}),this.setState({navbar:l}));case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),console.error("Error:",n.t0);case 23:case"end":return n.stop()}}),null,this,[[2,20]])}},{key:"downloadResume",value:function(){var e,a=this;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:"http://localhost:80//junior-workers/api/get-user-resume.php",(e=new FormData).append("email",this.state.email),fetch("http://localhost:80//junior-workers/api/get-user-resume.php",{method:"POST",body:e}).then((function(e){200===e.status?e.blob().then((function(e){var a=window.URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="resume.pdf",t.click()})):a.setState({displayMessage:"Unable to download resume",displayMessageFlag:!a.state.displayMessageFlag})}));case 4:case"end":return t.stop()}}),null,this)}},{key:"redirectBack",value:function(){var e=i.a.createElement(u.a,{to:"/search"});this.setState({redirect:e})}},{key:"render",value:function(){var e=this,a="";""!==this.state.data.user.video_path&&null!==this.state.data.user.video_path&&(a=i.a.createElement("video",{className:"video",type:"video/mp4",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.video_path,controls:!0},"Unable to play video. Please consider updating your browser."));var s="";""!==this.state.data.user.resume_path&&null!==this.state.data.user.resume_path&&(s=i.a.createElement("button",{className:"profil-resume-button",onClick:this.downloadResume},i.a.createElement("i",{className:"fa fa-arrow-down"}),"Resume"));var l=i.a.createElement("p",null,"Not available");"1"===this.state.data.user.availability&&(l=i.a.createElement("p",null,"Available"));var n=[];this.state.data.experience.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"work-remove",id:"experience__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.profession.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_profession,key:"profession_option__"+t+"__"+a},e.title))})),n.push(i.a.createElement("div",{className:"work",key:"experience"+t},i.a.createElement("p",{className:"work-label"},"Worked as"),i.a.createElement("select",{id:"experience__"+t+"__id_profession",disabled:e.state.disabled,value:a.id_profession},l),i.a.createElement("p",{className:"work-label"},"At"),i.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+t+"__company",defaultValue:a.company,placeholder:"company",required:!0}),i.a.createElement("p",{className:"work-label"},"Between"),i.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+t+"__date",defaultValue:a.date,placeholder:"date",required:!0}),s))}})),this.state.data.experience!==[]&&0!==this.state.data.experience.length||(n="No experience added so far");var r=[];this.state.data.skill.forEach((function(a,t){if(""!==a){var s=[];e.state.dropListData.skill.forEach((function(e,a){s.push(i.a.createElement("option",{value:e.id_skill,key:"skill_option__"+t+"__"+a},e.title))})),r.push(i.a.createElement("div",{className:"skill",key:"skill"+t},i.a.createElement("div",{className:"skill-dot"}),i.a.createElement("select",{id:"skill__"+t+"__id_skill",disabled:e.state.disabled,value:a.id_skill},s)))}})),this.state.data.skill!==[]&&0!==this.state.data.skill.length||(r="No skills so far");var o=[];this.state.data.education.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"education-remove",id:"education__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.education.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_education,key:"education_option__"+t+"__"+a},e.title))}));var n=[];e.state.dropListData.education_level.forEach((function(e,a){n.push(i.a.createElement("option",{value:e.id_education_level,key:"education_level_option__"+t+"__"+a},e.title))})),o.push(i.a.createElement("div",{className:"education",key:"education"+t},i.a.createElement("div",{className:"education-dot"}),i.a.createElement("select",{id:"education__"+t+"__id_education_level",disabled:e.state.disabled,value:a.id_education_level},n),i.a.createElement("select",{id:"education__"+t+"__id_education",disabled:e.state.disabled,value:a.id_education},l),s))}})),this.state.data.education!==[]&&0!==this.state.data.education.length||(o="No education added so far");var c=[];return this.state.data.language.forEach((function(a,t){if(""!==a){var s="";e.state.editFlag&&(s=i.a.createElement("button",{className:"language-remove",id:"language__"+t+"__remove",onClick:e.removeUserData},i.a.createElement("i",{className:"fa fa-times"})));var l=[];e.state.dropListData.language.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_language,key:"language_option__"+t+"__"+a},e.title))}));var n=[];e.state.dropListData.language_level.forEach((function(e,a){n.push(i.a.createElement("option",{value:e.id_language_level,key:"language_level_option__"+t+"__"+a},e.title))})),c.push(i.a.createElement("div",{className:"language",key:"language"+t},i.a.createElement("div",{className:"language-dot"}),i.a.createElement("select",{id:"language__"+t+"__id_language_level",disabled:e.state.disabled,value:a.id_language_level},n),i.a.createElement("select",{id:"language__"+t+"__id_language",value:a.id_language,disabled:e.state.disabled},l),s))}})),this.state.data.language!==[]&&0!==this.state.data.language.length||(c="No languages added so far"),i.a.createElement("div",{className:"Profil"},this.state.redirect,i.a.createElement("img",{id:"bg",className:"background",src:t(15)}),i.a.createElement("div",{className:"logo"},i.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),i.a.createElement("div",{className:"title2"},"Workers")),this.state.navbar,i.a.createElement("div",{className:"profil-container"},i.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),i.a.createElement("div",{className:"profil-header"},i.a.createElement("button",{className:"profil-edit-btn",onClick:this.redirectBack},i.a.createElement("i",{className:"fa fa-arrow-left",id:"edit-button"})),i.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname"}),i.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname"}),i.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Profession title",id:"title"})),i.a.createElement("div",{className:"profil-header2"},i.a.createElement("div",{className:"profil-availability"},l),i.a.createElement("div",{className:"profil-resume"},s)),i.a.createElement("form",{className:"profil-content",id:"profil-form"},i.a.createElement("div",{className:"title title-first"},i.a.createElement("p",null,"About")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"about"},i.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",placeholder:"Write something about yourself...",value:this.state.data.user.bio}),a)),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Work Experience")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},n),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Skills")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},r),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Education")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},o),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Language")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},c),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Contact Info")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email))))}}]),a}(i.a.Component),w=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).state={redirect:"",email:localStorage.getItem("email"),role:localStorage.getItem("role"),jwt:localStorage.getItem("jwt"),editFlag:!1,disabled:!0,readonly:!0,dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],experience:[],skill:[],education:[],language:[],job_post:[]},displayMessage:"",displayMessageFlag:!1,navbar:""},t.getUserData=t.getUserData.bind(Object(h.a)(t)),t.getDropListData=t.getDropListData.bind(Object(h.a)(t)),t.redirectBack=t.redirectBack.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){if(""===this.state.email||null===this.state.email){var e=i.a.createElement(u.a,{to:"/"});this.setState({redirect:e})}else this.getDropListData(),this.getUserData()}},{key:"getUserData",value:function(){var e,a,t,s,l;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return"http://localhost:80//junior-workers/api/get-view-user-data.php",e={email:this.state.email},n.prev=2,n.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-view-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(a=n.sent).status){n.next=12;break}console.error("Unable to get user's data"),t=i.a.createElement(u.a,{to:"/search"}),this.setState({redirect:t}),n.next=18;break;case 12:if(200!==a.status){n.next=18;break}return n.next=15,v.a.awrap(a.json());case 15:s=n.sent,this.setState({data:s}),null!==this.state.jwt&&""!==this.state.jwt&&(l=i.a.createElement(k,{selectedLink:"nothing",role:this.state.role}),this.setState({navbar:l}));case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),console.error("Error:",n.t0);case 23:case"end":return n.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",t.prev=1,t.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=t.sent).status){t.next=9;break}console.error("Unable to get drop list data"),t.next=14;break;case 9:if(200!==e.status){t.next=14;break}return t.next=12,v.a.awrap(e.json());case 12:a=t.sent,this.setState({dropListData:a});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error:",t.t0);case 19:case"end":return t.stop()}}),null,this,[[1,16]])}},{key:"redirectBack",value:function(){var e=i.a.createElement(u.a,{to:"/search"});this.setState({redirect:e})}},{key:"render",value:function(){var e=this,a=i.a.createElement("p",null,"Not Hiring");"1"===this.state.data.user.availability&&(a=i.a.createElement("p",null,"Hiring"));var s=[];return this.state.data.job_post.forEach((function(a,t){if(""!==a){var l=[];e.state.dropListData.profession.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_profession,key:"profession_option__"+t+"__"+a},e.title))})),s.push(i.a.createElement("div",{className:"post",key:"job_post"+t},i.a.createElement("p",{className:"post-label"},"Job title"),i.a.createElement("textarea",{type:"text",readOnly:e.state.readonly,id:"job_post__"+t+"__title",defaultValue:a.title,placeholder:"Job title",required:!0}),i.a.createElement("p",{className:"post-label"},"Looking for"),i.a.createElement("select",{id:"job_post__"+t+"__id_profession",disabled:e.state.disabled,value:a.id_profession},l),i.a.createElement("p",{className:"post-label"},"Job Description"),i.a.createElement("textarea",{readOnly:e.state.readonly,id:"job_post__"+t+"__description",defaultValue:a.description,placeholder:"Describe the position for the job here",required:!0})))}})),this.state.data.job_post!==[]&&0!==this.state.data.job_post.length||(s="No Job posts yet"),i.a.createElement("div",{className:"Profil"},this.state.redirect,i.a.createElement(f,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag}),i.a.createElement("img",{id:"bg",className:"background",src:t(15)}),i.a.createElement("div",{className:"logo"},i.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),i.a.createElement("div",{className:"title2"},"Workers")),this.state.navbar,i.a.createElement("div",{className:"profil-container"},i.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),i.a.createElement("div",{className:"profil-header"},i.a.createElement("button",{className:"profil-edit-btn",onClick:this.redirectBack},i.a.createElement("i",{className:"fa fa-arrow-left",id:"edit-button"})),i.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname"}),i.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname"}),i.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Company name",id:"title"})),i.a.createElement("div",{className:"profil-header2"},i.a.createElement("div",{className:"profil-availability"},a)),i.a.createElement("form",{className:"profil-content",id:"profil-form",onSubmit:this.saveChanges},i.a.createElement("div",{className:"title title-first"},i.a.createElement("p",null,"About")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},i.a.createElement("div",{className:"about"},i.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",placeholder:"Write something about your company...",value:this.state.data.user.bio}))),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Job Posts")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},s),i.a.createElement("div",{className:"title"},i.a.createElement("p",null,"Contact Info")),i.a.createElement("div",{className:"title-hr"}),i.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email))))}}]),a}(i.a.Component),C=(t(45),function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(d.a)(a).call(this))).state={redirect:"",jwt:localStorage.getItem("jwt"),dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],experience:[],skill:[],education:[],language:[],job_post:[]},navbar:"",searchType:"candidate",searchInput:"",results:[{role:"candidate"}],load:"candidate"},t.changeSearchType=t.changeSearchType.bind(Object(h.a)(t)),t.changeSearchInput=t.changeSearchInput.bind(Object(h.a)(t)),t.getUserData=t.getUserData.bind(Object(h.a)(t)),t.searchUsers=t.searchUsers.bind(Object(h.a)(t)),t.getDropListData=t.getDropListData.bind(Object(h.a)(t)),t.viewProfil=t.viewProfil.bind(Object(h.a)(t)),t.goToMain=t.goToMain.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("email"),""===this.state.jwt&&null===this.state.jwt||this.getUserData(),this.getDropListData(),this.searchUsers(),""!==localStorage.getItem("searchInput")&&this.setState({searchInput:localStorage.getItem("searchInput")})}},{key:"getUserData",value:function(){var e,a,t,s;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return"http://localhost:80//junior-workers/api/get-user-data.php",e={jwt:this.state.jwt},l.prev=2,l.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(a=l.sent).status){l.next=10;break}console.error("Unable to get user's data"),l.next=18;break;case 10:if(200!==a.status){l.next=18;break}return l.next=13,v.a.awrap(a.json());case 13:t=l.sent,this.setState({data:t}),s=i.a.createElement(k,{selectedLink:"search",role:this.state.data.user.role}),this.setState({navbar:s}),localStorage.setItem("role",this.state.data.user.role);case 18:l.next=23;break;case 20:l.prev=20,l.t0=l.catch(2),console.error("Error:",l.t0);case 23:case"end":return l.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,a;return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",t.prev=1,t.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=t.sent).status){t.next=9;break}console.error("Unable to get drop list data"),t.next=14;break;case 9:if(200!==e.status){t.next=14;break}return t.next=12,v.a.awrap(e.json());case 12:a=t.sent,this.setState({dropListData:a});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.error("Error:",t.t0);case 19:case"end":return t.stop()}}),null,this,[[1,16]])}},{key:"searchUsers",value:function(){var e,a,t;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return"http://localhost:80//junior-workers/api/search.php",e={searchType:this.state.searchType,searchInput:this.state.searchInput},s.prev=2,s.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/search.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(a=s.sent).status){s.next=10;break}console.error("Unable to search"),s.next=15;break;case 10:if(200!==a.status){s.next=15;break}return s.next=13,v.a.awrap(a.json());case 13:t=s.sent,this.setState({results:t.results,load:this.state.searchType});case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(2),console.error("Error:",s.t0);case 20:case"end":return s.stop()}}),null,this,[[2,17]])}},{key:"changeSearchInput",value:function(e){e.preventDefault();var a=document.getElementById("search-input");this.setState({searchInput:a.value})}},{key:"changeSearchType",value:function(e){e.preventDefault();var a=document.getElementById("candidate-search"),t=document.getElementById("job-post-search");"candidate-search"===e.target.id?(a.classList.add("search-button-active"),t.classList.remove("search-button-active"),this.setState({searchType:"candidate"})):"job-post-search"===e.target.id&&(a.classList.remove("search-button-active"),t.classList.add("search-button-active"),this.setState({searchType:"hirer"}))}},{key:"viewProfil",value:function(e){e.preventDefault();var a,t=e.target.id.split("_")[1],s=e.target.id.split("_")[2];localStorage.setItem("email",t),"candidate"===s?a=i.a.createElement(u.a,{to:"/candidate-profil"}):"hirer"===s&&(a=i.a.createElement(u.a,{to:"/hirer-profil"})),this.setState({redirect:a})}},{key:"goToMain",value:function(){var e=i.a.createElement(u.a,{to:"/"});this.setState({redirect:e})}},{key:"render",value:function(){var e=this,a=i.a.createElement("div",{className:"msg"},"No results found");this.state.results!==[]&&("candidate"===this.state.load?(a=[],this.state.results.forEach((function(t,s){a.push(i.a.createElement("div",{className:"result",key:"result"+s},i.a.createElement("img",{src:"http://localhost/junior-workers/api/uploads/"+t.image_path}),i.a.createElement("div",{className:"labels"},i.a.createElement("div",{className:"name"},t.firstname),i.a.createElement("div",{className:"lastname"},t.lastname),i.a.createElement("div",{className:"title"},t.title),i.a.createElement("button",{id:"view-profil"+s+"_"+t.email+"_"+t.role,onClick:e.viewProfil},i.a.createElement("i",{className:"fa fa-eye"}),i.a.createElement("div",null,"View profil")))))}))):"hirer"===this.state.load&&(a=[],this.state.results.forEach((function(t,s){var l=[];e.state.dropListData.profession.forEach((function(e,a){l.push(i.a.createElement("option",{value:e.id_profession,key:"profession_option__"+s+"__"+a},e.title))})),a.push(i.a.createElement("div",{className:"result",key:"result"+s},i.a.createElement("img",{src:"http://localhost/junior-workers/api/uploads/"+t.image_path}),i.a.createElement("div",{className:"labels"},i.a.createElement("div",{className:"name"},t.firstname),i.a.createElement("div",{className:"lastname"},t.lastname),i.a.createElement("div",{className:"title"},t.title),i.a.createElement("button",{id:"view-profil"+s+"_"+t.email+"_"+t.role,onClick:e.viewProfil},i.a.createElement("i",{className:"fa fa-eye"}),i.a.createElement("div",null,"View profil"))),i.a.createElement("div",{className:"job"},i.a.createElement("div",{className:"title"},t.job_title),i.a.createElement("div",{className:"description"},t.description),i.a.createElement("div",{className:"looking"},i.a.createElement("div",{className:"label"},"Looking for a"),i.a.createElement("select",{disabled:!0,value:t.id_profession},l)))))}))));var s="";return""!==this.state.jwt&&null!==this.state.jwt||(s=i.a.createElement("button",{className:"return-button",onClick:this.goToMain},i.a.createElement("i",{className:"fa fa-arrow-left"}))),i.a.createElement("div",{className:"Search"},this.state.redirect,this.state.navbar,i.a.createElement("img",{id:"bg",className:"background",src:t(15)}),i.a.createElement("div",{className:"logo"},i.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),i.a.createElement("div",{className:"title2"},"Workers")),s,i.a.createElement("div",{className:"search-container"},i.a.createElement("div",{className:"control"},i.a.createElement("div",{className:"search-field"},i.a.createElement("i",{className:"fa fa-search"}),i.a.createElement("input",{type:"text",placeholder:"Type...",id:"search-input",onChange:this.changeSearchInput}),i.a.createElement("hr",null),i.a.createElement("button",{onClick:this.searchUsers},"Search")),i.a.createElement("div",{className:"target-field"},i.a.createElement("button",{id:"candidate-search",onClick:this.changeSearchType,className:"search-button-active"},"Candidate"),i.a.createElement("button",{id:"job-post-search",onClick:this.changeSearchType},"Job post"))),i.a.createElement("div",{className:"results"},a)))}}]),a}(i.a.Component)),x=function(e){function a(){return Object(r.a)(this,a),Object(c.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement(m.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(u.d,null,i.a.createElement(u.b,{path:"/my-candidate-profil"},i.a.createElement(j,null)),i.a.createElement(u.b,{path:"/my-hirer-profil"},i.a.createElement(_,null)),i.a.createElement(u.b,{path:"/search"},i.a.createElement(C,null)),i.a.createElement(u.b,{path:"/candidate-profil"},i.a.createElement(N,null)),i.a.createElement(u.b,{path:"/hirer-profil"},i.a.createElement(w,null)),i.a.createElement(u.b,{path:"/"},i.a.createElement(y,null)))))}}]),a}(i.a.Component);n.a.render(i.a.createElement(x,null),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.6becdb63.chunk.js.map