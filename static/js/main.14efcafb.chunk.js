(this["webpackJsonpjunior-workers"]=this["webpackJsonpjunior-workers"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/backgroundBig.f2b86eb1.jpg"},,function(e,t,a){},,,,,,,,,function(e,t,a){e.exports=a(46)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/main_image.afdbf1d8.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(23),l=a.n(i),r=(a(31),a(3)),o=a(4),c=a(6),d=a(5),m=a(7),u=a(9),p=a(13),h=(a(32),a(2)),g=(a(33),a(1)),v=a.n(g),f=(a(35),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={redirect:"",loginError:"",toggleLoginFlag:!1,email:"",password:""},a.toggleLogin=a.toggleLogin.bind(Object(h.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.props.toggleLoginFlag!==this.state.toggleLoginFlag&&(this.setState({toggleLoginFlag:this.props.toggleLoginFlag}),this.toggleLogin())}},{key:"toggleLogin",value:function(){var e=document.querySelector(".login");"flex"===e.style.display?e.style.display="none":e.style.display="flex"}},{key:"handleInputChange",value:function(e){"email"===e.target.name?this.setState({email:e.target.value}):"password"===e.target.name&&this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t,a,s,i;return v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost/junior-workers/api/login.php",t={email:this.state.email,password:this.state.password},e.prev=2,e.next=5,v.a.awrap(fetch("http://localhost/junior-workers/api/login.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}));case 5:if(200===(a=e.sent).status){e.next=10;break}this.setState({loginError:"Unable to login"}),e.next=18;break;case 10:if(200!==a.status){e.next=18;break}return e.next=13,v.a.awrap(a.json());case 13:s=e.sent,localStorage.setItem("jwt",s.jwt),i="","candidate"===s.role?i=n.a.createElement(p.a,{to:"/my-candidate-profil"}):"hirer"===s.role&&(i=n.a.createElement(p.a,{to:"/my-hirer-profil"})),this.setState({redirect:i});case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.error("Error:",e.t0),this.setState({loginError:"Unable to login"});case 24:case"end":return e.stop()}}),null,this,[[2,20]])}},{key:"render",value:function(){return n.a.createElement("div",{className:"login"},this.state.redirect,n.a.createElement("div",{className:"login-form"},n.a.createElement("div",{className:"login-message",style:{color:"#D0321E"}},this.state.loginError),n.a.createElement("div",{className:"login-label"},"Email"),n.a.createElement("div",{className:"login-input-before fa fa-user"}),n.a.createElement("input",{name:"email",className:"login-input-text",type:"email",minLength:"6",maxLength:"90",placeholder:"John@mail.com",onChange:this.handleInputChange}),n.a.createElement("div",{className:"login-label"},"Password"),n.a.createElement("div",{className:"login-input-before fa fa-lock"}),n.a.createElement("input",{name:"password",className:"login-input-text",type:"password",minLength:"6",maxLength:"40",placeholder:"abc123",onChange:this.handleInputChange}),n.a.createElement("button",{className:"login-submit",onClick:this.handleSubmit},"Sign in")))}}]),t}(n.a.Component)),b=(a(41),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={joinMessage:"",toggleJoinFlag:!1,firstname:"",lastname:"",email:"",password:"",repassword:"",role:"candidate"},a.toggleJoin=a.toggleJoin.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.resetAllInput=a.resetAllInput.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.props.toggleJoinFlag!==this.state.toggleJoinFlag&&(this.setState({toggleJoinFlag:this.props.toggleJoinFlag}),this.toggleJoin())}},{key:"toggleJoin",value:function(){var e=document.querySelector(".join");"flex"===e.style.display?e.style.display="none":e.style.display="flex"}},{key:"handleChange",value:function(e){e.preventDefault();var t=e.target.id;"join_firstname"===t?this.setState({firstname:e.target.value}):"join_lastname"===t?this.setState({lastname:e.target.value}):"join_email"===t?this.setState({email:e.target.value}):"join_password"===t?this.setState({password:e.target.value}):"join_repassword"===t?this.setState({repassword:e.target.value}):"join_role"===t&&this.setState({role:e.target.value})}},{key:"handleSubmit",value:function(e){var t,a;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),t={email:this.state.email,password:this.state.password,firstname:this.state.firstname,lastname:this.state.lastname,role:this.state.role},"http://localhost/junior-workers/api/create-user.php",s.prev=3,s.next=6,v.a.awrap(fetch("http://localhost/junior-workers/api/create-user.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}));case 6:if(200===(a=s.sent).status){s.next=11;break}this.setState({joinMessage:"Email exists"}),s.next=17;break;case 11:if(200!==a.status){s.next=17;break}return s.next=14,v.a.awrap(a.json());case 14:s.sent,this.setState({joinMessage:"User created"}),this.resetAllInput();case 17:s.next=23;break;case 19:s.prev=19,s.t0=s.catch(3),console.error("Error:",s.t0),this.setState({joinMessage:"Unable to create user"});case 23:case"end":return s.stop()}}),null,this,[[3,19]])}},{key:"resetAllInput",value:function(){document.getElementById("join_firstname").value="",document.getElementById("join_lastname").value="",document.getElementById("join_email").value="",document.getElementById("join_password").value="",document.getElementById("join_repassword").value=""}},{key:"render",value:function(){return n.a.createElement("div",{className:"join"},n.a.createElement("form",{className:"join-form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"join-message"},"Account Creation"),n.a.createElement("div",{className:"join-message",style:{color:"#D0321E",fontSize:"26px"}},this.state.joinMessage),n.a.createElement("div",{className:"join-section"},n.a.createElement("div",{className:"join-title-label"},"Account ID"),n.a.createElement("div",{className:"join-label"},"Email"),n.a.createElement("input",{className:"join-input-text",type:"email",minLength:"6",maxLength:"30",placeholder:"johnDelta",required:!0,name:"email",id:"join_email",onChange:this.handleChange}),n.a.createElement("div",{className:"join-label"},"Password"),n.a.createElement("input",{className:"join-input-text",type:"password",minLength:"6",maxLength:"30",placeholder:"John123DEL",required:!0,name:"password",id:"join_password",onChange:this.handleChange}),n.a.createElement("div",{className:"join-label"},"Verify password"),n.a.createElement("input",{className:"join-input-text",type:"password",minLength:"6",maxLength:"30",placeholder:"John123DEL",required:!0,name:"repassword",id:"join_repassword",onChange:this.handleChange}),n.a.createElement("div",{className:"join-label"},"Role"),n.a.createElement("select",{className:"join-role",defaultValue:"candidate",name:"role",id:"join_role",onChange:this.handleChange},n.a.createElement("option",{value:"candidate"},"Candidate"),n.a.createElement("option",{value:"hirer"},"Hirer"))),n.a.createElement("div",{className:"join-section"},n.a.createElement("div",{className:"join-title-label"},"Personal info"),n.a.createElement("div",{className:"join-label"},"Name"),n.a.createElement("input",{className:"join-input-text",type:"text",minLength:"2",maxLength:"40",placeholder:"John",required:!0,name:"firstname",id:"join_firstname",onChange:this.handleChange}),n.a.createElement("div",{className:"join-label"},"Lastname"),n.a.createElement("input",{className:"join-input-text",type:"text",minLength:"2",maxLength:"40",placeholder:"Deligiannis",required:!0,name:"lastname",id:"join_lastname",onChange:this.handleChange})),n.a.createElement("button",{className:"join-submit",type:"submit"},"Create account")))}}]),t}(n.a.Component)),E=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(c.a)(this,Object(d.a)(t).call(this))).state={toggleLoginFlag:!1,loginButtonText:"Login",toggleJoinFlag:!1,joinButtonText:"Join our community",joinError:"",redirect:"",searchInput:""},e.onClickLoginHandle=e.onClickLoginHandle.bind(Object(h.a)(e)),e.onClickJoinHandle=e.onClickJoinHandle.bind(Object(h.a)(e)),e.search=e.search.bind(Object(h.a)(e)),e.searchChange=e.searchChange.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onClickLoginHandle",value:function(){"X"===this.state.joinButtonText&&this.onClickJoinHandle(),this.setState({toggleLoginFlag:!this.state.toggleLoginFlag});var e=document.querySelector(".login-button");"Login"===this.state.loginButtonText?(this.setState({loginButtonText:"X"}),e.classList.add("login-button-active")):(this.setState({loginButtonText:"Login"}),e.classList.remove("login-button-active"))}},{key:"onClickJoinHandle",value:function(){"X"===this.state.loginButtonText&&this.onClickLoginHandle(),this.setState({toggleJoinFlag:!this.state.toggleJoinFlag});var e=document.querySelector(".join-button");"Join our community"===this.state.joinButtonText?(this.setState({joinButtonText:"X"}),e.classList.add("join-button-active")):(this.setState({joinButtonText:"Join our community"}),e.classList.remove("join-button-active"))}},{key:"searchChange",value:function(e){e.preventDefault();var t=document.getElementById("search-input").value;this.setState({searchInput:t})}},{key:"search",value:function(e){e.preventDefault(),localStorage.setItem("searchInput",this.state.searchInput);var t=n.a.createElement(p.a,{to:"/search"});this.setState({redirect:t})}},{key:"render",value:function(){return n.a.createElement("div",{className:"Home"},this.state.redirect,n.a.createElement("img",{id:"bg",className:"background",src:a(15)}),n.a.createElement("div",{className:"logo"},n.a.createElement("div",{className:"title1"},"Junior"),n.a.createElement("div",{className:"title2"},"Workers"),n.a.createElement("div",{className:"logo-circle"})),n.a.createElement("button",{className:"join-button",onClick:this.onClickJoinHandle,value:"join"},this.state.joinButtonText),n.a.createElement(b,{toggleJoinFlag:this.state.toggleJoinFlag}),n.a.createElement("button",{className:"login-button",onClick:this.onClickLoginHandle,value:"login"},this.state.loginButtonText),n.a.createElement(f,{toggleLoginFlag:this.state.toggleLoginFlag}),n.a.createElement("div",{className:"main"},n.a.createElement("h1",{className:"title"},n.a.createElement("span",null,"Your professional"),n.a.createElement("span",null,"career starts"),n.a.createElement("span",null,"here"),n.a.createElement("div",{className:"main-search"},n.a.createElement("input",{type:"text",placeholder:"ex. Web Developer",id:"search-input",onChange:this.searchChange}),n.a.createElement("button",{onClick:this.search},n.a.createElement("i",{className:"fa fa-search"})))),n.a.createElement("img",{className:"image",src:a(42)})),n.a.createElement("div",{className:"infos",id:"infos"},n.a.createElement("h2",{className:"infos-title"},"Use Junior Workers and find your place in job industry"),n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"info-title"},"Recruiters",n.a.createElement("br",null),"can"),n.a.createElement("div",{className:"info-uses"},n.a.createElement("div",{className:"info-use"},"Search workers"),n.a.createElement("div",{className:"info-use"},"Create a job post"))),n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"info-title"},"Workers",n.a.createElement("br",null),"can"),n.a.createElement("div",{className:"info-uses"},n.a.createElement("div",{className:"info-use"},"Search job posts"),n.a.createElement("div",{className:"info-use"},"Create a professional profil")))),n.a.createElement("div",{className:"footer"},n.a.createElement("div",null,"Designed and Coded by"),n.a.createElement("a",{href:"https://github.com/JohnDelta",target:"_blank",title:"Visit my github profile!",rel:"noopener noreferrer"},"John Deligiannis")))}}]),t}(n.a.Component),y=(a(17),a(43),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).toggleNavbar=a.toggleNavbar.bind(Object(h.a)(a)),a.handleLogout=a.handleLogout.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggleNavbar",value:function(){document.querySelector(".nav-links").classList.toggle("nav-links-active"),document.querySelectorAll(".nav-toggle div").forEach((function(e,t){e.classList.toggle("div"+(t+1)+"-active")})),document.querySelector(".Navbar").classList.toggle("navbar-active")}},{key:"handleLogout",value:function(){localStorage.clear()}},{key:"render",value:function(){var e={},t={},a={};return"profil"===this.props.selectedLink&&(e={color:"#F25F5C"}),"search"===this.props.selectedLink&&(t={color:"#F25F5C"}),n.a.createElement("div",{className:"Navbar"},n.a.createElement("div",{className:"nav-toggle",onClick:this.toggleNavbar},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null)),n.a.createElement("ul",{className:"nav-links"},n.a.createElement("li",{className:"nav-link"},n.a.createElement(u.b,{className:"text",to:"/search",style:t},n.a.createElement("i",{className:"fa fa-search",style:t}),n.a.createElement("p",null,"Home"))),n.a.createElement("li",{className:"nav-link"},n.a.createElement(u.b,{className:"text",to:"/my-"+this.props.role+"-profil",style:e},n.a.createElement("i",{className:"fa fa-user",style:e}),n.a.createElement("p",null,"Profil"))),n.a.createElement("li",{className:"nav-link nav-down"},n.a.createElement(u.b,{onClick:this.handleLogout,className:"text",to:"/",style:a},n.a.createElement("i",{className:"fa fa-sign-out",style:a}),n.a.createElement("p",null,"Exit")))))}}]),t}(n.a.Component)),k=(a(44),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={displayMessageFlag:a.props.displayMessageFlag,message:""},a.displayMessage=a.displayMessage.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){this.props.displayMessageFlag!==this.state.displayMessageFlag&&(this.setState({displayMessageFlag:this.props.displayMessageFlag}),""!==this.props.displayMessage&&null!==this.props.displayMessage&&this.displayMessage())}},{key:"displayMessage",value:function(){var e=this,t=document.querySelector(".DisplayMessage");t.classList.remove("deactivate-display-message"),this.setState({message:this.props.displayMessage}),setTimeout((function(){t.classList.add("deactivate-display-message"),e.setState({message:""})}),3e3)}},{key:"render",value:function(){return n.a.createElement("div",{className:"DisplayMessage deactivate-display-message"},n.a.createElement("p",null,this.state.message))}}]),t}(n.a.Component)),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={redirect:"",jwt:localStorage.getItem("jwt"),editFlag:!1,disabled:!0,readonly:!0,dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],experience:[],skill:[],education:[],language:[]},displayMessage:"",displayMessageFlag:!1},a.toggleEdit=a.toggleEdit.bind(Object(h.a)(a)),a.getUserData=a.getUserData.bind(Object(h.a)(a)),a.userHeaderChange=a.userHeaderChange.bind(Object(h.a)(a)),a.availabilityChange=a.availabilityChange.bind(Object(h.a)(a)),a.discardChanges=a.discardChanges.bind(Object(h.a)(a)),a.saveChanges=a.saveChanges.bind(Object(h.a)(a)),a.userDataChange=a.userDataChange.bind(Object(h.a)(a)),a.removeUserData=a.removeUserData.bind(Object(h.a)(a)),a.addUserData=a.addUserData.bind(Object(h.a)(a)),a.getDropListData=a.getDropListData.bind(Object(h.a)(a)),a.imageChange=a.imageChange.bind(Object(h.a)(a)),a.removeImage=a.removeImage.bind(Object(h.a)(a)),a.videoChange=a.videoChange.bind(Object(h.a)(a)),a.removeVideo=a.removeVideo.bind(Object(h.a)(a)),a.resumeChange=a.resumeChange.bind(Object(h.a)(a)),a.removeResume=a.removeResume.bind(Object(h.a)(a)),a.downloadResume=a.downloadResume.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.removeItem("email"),null===this.state.jwt){var e=n.a.createElement(p.a,{to:"/"});this.setState({redirect:e})}this.getUserData(),this.getDropListData()}},{key:"toggleEdit",value:function(){this.setState({editFlag:!this.state.editFlag});var e=document.getElementById("edit-button");e.classList.contains("fa-times")?(e.classList.remove("fa-times"),e.classList.add("fa-edit")):(e.classList.remove("fa-edit"),e.classList.add("fa-times")),this.setState({disabled:!this.state.disabled,readonly:!this.state.readonly})}},{key:"userHeaderChange",value:function(e){e.preventDefault();var t=e.target.id,a=e.target.value,s=this.state.data;"firstname"===t?s.user.firstname=a:"lastname"===t?s.user.lastname=a:"title"===t?s.user.title=a:"bio"===t&&(s.user.bio=a),this.setState({data:s})}},{key:"availabilityChange",value:function(){var e;"1"===this.state.data.user.availability?((e=this.state.data).user.availability="0",this.setState({data:e})):((e=this.state.data).user.availability="1",this.setState({data:e}))}},{key:"userDataChange",value:function(e){e.preventDefault();var t=e.target.value,a=e.target.id.split("__"),s=a[0],n=a[1],i=a[2],l=this.state.data;l[s][n][i]=t,this.setState({data:l})}},{key:"addUserData",value:function(e){e.preventDefault();var t=this.state.data,a=e.target.name;"experience"===a?t.experience.push({id_profession:this.state.dropListData.profession[0].id_profession,company:"",date:""}):"skill"===a?t.skill.push({id_skill:this.state.dropListData.skill[0].id_skill}):"education"===a?t.education.push({id_education:this.state.dropListData.education[0].id_education,id_education_level:this.state.dropListData.education_level[0].id_education_level}):"language"===a&&t.language.push({id_language:this.state.dropListData.language[0].id_language,id_language_level:this.state.dropListData.language_level[0].id_language_level}),this.setState({data:t})}},{key:"removeUserData",value:function(e){e.preventDefault();var t=e.target.id.split("__"),a=t[0],s=t[1],n=this.state.data;n[a][s]="",this.setState({data:n})}},{key:"discardChanges",value:function(){this.setState({data:{user:[],experience:[],skill:[],education:[],language:[]}}),this.getUserData(),this.toggleEdit()}},{key:"imageChange",value:function(e){var t,a,s,n,i,l,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=document.getElementById("image-file").files[0],a=t.name,s=["png","jpg","jpeg"],n=a.split(".").pop().toLowerCase(),!s.includes(n)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-image.php",(i=new FormData).append("image_file",t),i.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-image.php",{method:"POST",body:i}));case 13:return l=o.sent,o.next=16,v.a.awrap(l.json());case 16:r=o.sent,200!==l.status?"1"===r.code?this.setState({displayMessage:"Unable to upload image"}):"2"===r.code?this.setState({displayMessage:"Image not in proper format"}):"3"===r.code&&this.setState({displayMessage:"Image's size cannot be larger than 10mb"}):200===l.status&&"0"===r.code&&(this.setState({displayMessage:"Profil image has been updated"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload image"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeImage",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/remove-user-image.php",e={jwt:this.state.jwt},a.prev=2,a.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-image.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:200!==(t=a.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove image",displayMessageFlag:!this.state.displayMessageFlag})):200===t.status&&(this.setState({displayMessage:"Profil image has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.error("Error:",a.t0);case 12:case"end":return a.stop()}}),null,this,[[2,9]])}},{key:"videoChange",value:function(e){var t,a,s,n,i,l,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=document.getElementById("video-file").files[0],a=t.name,s=["mp4"],n=a.split(".").pop().toLowerCase(),!s.includes(n)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-video.php",(i=new FormData).append("video_file",t),i.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-video.php",{method:"POST",body:i}));case 13:return l=o.sent,o.next=16,v.a.awrap(l.json());case 16:"1"===(r=o.sent).code?this.setState({displayMessage:"Unable to upload video"}):"2"===r.code?this.setState({displayMessage:"Video not in proper format (MP4)"}):"3"===r.code?this.setState({displayMessage:"Video's size cannot be larger than 50mb"}):"0"===r.code&&(this.setState({displayMessage:"Video has been Added"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload video"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension (MP4)."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeVideo",value:function(e){var t,a;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),"http://localhost:80//junior-workers/api/remove-user-video.php",t={jwt:this.state.jwt},s.prev=3,s.next=6,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-video.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}));case 6:200!==(a=s.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove video",displayMessageFlag:!this.state.displayMessageFlag})):200===a.status&&this.setState({displayMessage:"Profil video has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData(),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(3),console.error("Error:",s.t0);case 14:case"end":return s.stop()}}),null,this,[[3,11]])}},{key:"resumeChange",value:function(e){var t,a,s,n,i,l,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=document.getElementById("resume-file").files[0],a=t.name,s=["pdf"],n=a.split(".").pop().toLowerCase(),!s.includes(n)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-resume.php",(i=new FormData).append("resume_file",t),i.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-resume.php",{method:"POST",body:i}));case 13:return l=o.sent,o.next=16,v.a.awrap(l.json());case 16:"1"===(r=o.sent).code?this.setState({displayMessage:"Unable to upload resume"}):"2"===r.code?this.setState({displayMessage:"Resume not in proper format"}):"3"===r.code?this.setState({displayMessage:"Resume's size cannot be larger than 10mb"}):"0"===r.code&&(this.setState({displayMessage:"Resume has been Added"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload resume"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeResume",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/remove-user-resume.php",e={jwt:this.state.jwt},a.prev=2,a.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-resume.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:200!==(t=a.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove resume",displayMessageFlag:!this.state.displayMessageFlag})):200===t.status&&(this.setState({displayMessage:"Resume has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.error("Error:",a.t0);case 12:case"end":return a.stop()}}),null,this,[[2,9]])}},{key:"saveChanges",value:function(e){var t,a;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),"http://localhost:80//junior-workers/api/post-user-data.php",t={jwt:this.state.jwt,data:this.state.data},s.prev=3,s.next=6,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}));case 6:200!==(a=s.sent).status?console.error("Unable to post user's data"):200===a.status&&(this.getUserData(),this.toggleEdit()),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(3),console.error("Error:",s.t0);case 13:case"end":return s.stop()}}),null,this,[[3,10]])}},{key:"getUserData",value:function(){var e,t,a,s;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return"http://localhost:80//junior-workers/api/get-user-data.php",e={jwt:this.state.jwt},i.prev=2,i.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(t=i.sent).status){i.next=10;break}console.error("Unable to get user's data"),i.next=18;break;case 10:if(200!==t.status){i.next=18;break}return i.next=13,v.a.awrap(t.json());case 13:a=i.sent,this.setState({data:a}),s="","hirer"===this.state.data.user.role&&(s=n.a.createElement(p.a,{to:"/my-hirer-profil"})),this.setState({redirect:s});case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(2),console.error("Error:",i.t0);case 23:case"end":return i.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",a.prev=1,a.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=a.sent).status){a.next=9;break}console.error("Unable to get drop list data"),a.next=14;break;case 9:if(200!==e.status){a.next=14;break}return a.next=12,v.a.awrap(e.json());case 12:t=a.sent,this.setState({dropListData:t});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),console.error("Error:",a.t0);case 19:case"end":return a.stop()}}),null,this,[[1,16]])}},{key:"downloadResume",value:function(){var e,t=this;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:"http://localhost:80//junior-workers/api/get-user-resume.php",(e=new FormData).append("email",this.state.data.user.email),e.append("jwt",this.state.jwt),fetch("http://localhost:80//junior-workers/api/get-user-resume.php",{method:"POST",body:e}).then((function(e){200===e.status?e.blob().then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="resume.pdf",a.click()})):t.setState({displayMessage:"Unable to download resume",displayMessageFlag:!t.state.displayMessageFlag})}));case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t="",s="",i="",l="",r="",o="",c="",d="",m="";this.state.editFlag&&(t=n.a.createElement("div",{className:"change-buttons"},n.a.createElement("button",{type:"submit"},n.a.createElement("i",{className:"fa fa-check"})),n.a.createElement("button",{onClick:this.discardChanges},n.a.createElement("i",{className:"fa fa-times"}))),s=n.a.createElement("button",{className:"profil-availability-button",onClick:this.availabilityChange},n.a.createElement("i",{className:"fa fa-refresh"})),i=n.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"experience"},n.a.createElement("i",{className:"fa fa-plus"}),"Add Experience"),l=n.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"skill"},n.a.createElement("i",{className:"fa fa-plus"}),"Add Skill"),r=n.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"education"},n.a.createElement("i",{className:"fa fa-plus"}),"Add Education"),o=n.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"language"},n.a.createElement("i",{className:"fa fa-plus"}),"Add Language"),c=n.a.createElement("div",{className:"profil-image-buttons"},n.a.createElement("label",{htmlFor:"image-file",title:"upload new profil picture"},n.a.createElement("i",{className:"fa fa-upload"})),n.a.createElement("input",{id:"image-file",type:"file",onChange:this.imageChange,name:"image"}),n.a.createElement("button",{title:"remove saved profil picture",onClick:this.removeImage},n.a.createElement("i",{className:"fa fa-trash"}))),d=n.a.createElement("div",{className:"video-buttons"},n.a.createElement("label",{htmlFor:"video-file",className:"label",title:"Upload new video"},n.a.createElement("i",{className:"fa fa-upload"})),n.a.createElement("input",{id:"video-file",type:"file",name:"video-file",onChange:this.videoChange}),n.a.createElement("button",{title:"Remove current video",onClick:this.removeVideo},n.a.createElement("i",{className:"fa fa-trash"}))),m=n.a.createElement("div",{className:"resume-edit-buttons"},n.a.createElement("label",{htmlFor:"resume-file",className:"label",title:"Upload new resume"},n.a.createElement("i",{className:"fa fa-upload"})),n.a.createElement("input",{id:"resume-file",type:"file",name:"resume",onChange:this.resumeChange}),n.a.createElement("button",{title:"Remove current resume",onClick:this.removeResume},n.a.createElement("i",{className:"fa fa-trash"}))));var u="";""!==this.state.data.user.video_path&&null!==this.state.data.user.video_path&&(u=n.a.createElement("video",{className:"video",type:"video/mp4",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.video_path,controls:!0},"Unable to play video. Please consider updating your browser."));var p="";""!==this.state.data.user.resume_path&&null!==this.state.data.user.resume_path?p=n.a.createElement("button",{className:"profil-resume-button",onClick:this.downloadResume},n.a.createElement("i",{className:"fa fa-arrow-down"}),"Resume"):this.state.editFlag&&(p=n.a.createElement("div",{style:{color:"#ffffff"}},"Upload your resume here"));var h=n.a.createElement("p",null,"Not available");"1"===this.state.data.user.availability&&(h=n.a.createElement("p",null,"Available"));var g=[];this.state.data.experience.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"work-remove",id:"experience__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.profession.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_profession,key:"profession_option__"+a+"__"+t},e.title))})),g.push(n.a.createElement("div",{className:"work",key:"experience"+a},n.a.createElement("p",{className:"work-label"},"Worked as"),n.a.createElement("select",{id:"experience__"+a+"__id_profession",disabled:e.state.disabled,value:t.id_profession,onChange:e.userDataChange},i),n.a.createElement("p",{className:"work-label"},"At"),n.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+a+"__company",onChange:e.userDataChange,defaultValue:t.company,placeholder:"company",required:!0}),n.a.createElement("p",{className:"work-label"},"Between"),n.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+a+"__date",onChange:e.userDataChange,defaultValue:t.date,placeholder:"date",required:!0}),s))}})),this.state.data.experience!==[]&&0!==this.state.data.experience.length||(g="No experience so far");var v=[];this.state.data.skill.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"skill-remove",id:"skill__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.skill.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_skill,key:"skill_option__"+a+"__"+t},e.title))})),v.push(n.a.createElement("div",{className:"skill",key:"skill"+a},n.a.createElement("div",{className:"skill-dot"}),n.a.createElement("select",{id:"skill__"+a+"__id_skill",disabled:e.state.disabled,value:t.id_skill,onChange:e.userDataChange},i),s))}})),this.state.data.skill!==[]&&0!==this.state.data.skill.length||(v="No skills so far");var f=[];this.state.data.education.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"education-remove",id:"education__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.education.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_education,key:"education_option__"+a+"__"+t},e.title))}));var l=[];e.state.dropListData.education_level.forEach((function(e,t){l.push(n.a.createElement("option",{value:e.id_education_level,key:"education_level_option__"+a+"__"+t},e.title))})),f.push(n.a.createElement("div",{className:"education",key:"education"+a},n.a.createElement("div",{className:"education-dot"}),n.a.createElement("select",{id:"education__"+a+"__id_education_level",disabled:e.state.disabled,value:t.id_education_level,onChange:e.userDataChange},l),n.a.createElement("select",{id:"education__"+a+"__id_education",disabled:e.state.disabled,value:t.id_education,onChange:e.userDataChange},i),s))}})),this.state.data.education!==[]&&0!==this.state.data.education.length||(f="No education so far");var b=[];return this.state.data.language.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"language-remove",id:"language__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.language.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_language,key:"language_option__"+a+"__"+t},e.title))}));var l=[];e.state.dropListData.language_level.forEach((function(e,t){l.push(n.a.createElement("option",{value:e.id_language_level,key:"language_level_option__"+a+"__"+t},e.title))})),b.push(n.a.createElement("div",{className:"language",key:"language"+a},n.a.createElement("div",{className:"language-dot"}),n.a.createElement("select",{id:"language__"+a+"__id_language_level",disabled:e.state.disabled,value:t.id_language_level,onChange:e.userDataChange},l),n.a.createElement("select",{id:"language__"+a+"__id_language",value:t.id_language,disabled:e.state.disabled,onChange:e.userDataChange},i),s))}})),this.state.data.language!==[]&&0!==this.state.data.language.length||(b="No language so far"),n.a.createElement("div",{className:"Profil"},this.state.redirect,n.a.createElement(k,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag}),n.a.createElement("img",{id:"bg",className:"background",src:a(15)}),n.a.createElement("div",{className:"logo"},n.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),n.a.createElement("div",{className:"title2"},"Workers")),n.a.createElement(y,{selectedLink:"profil",role:this.state.data.user.role}),n.a.createElement("div",{className:"profil-container"},n.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),n.a.createElement("div",{className:"profil-header"},n.a.createElement("button",{className:"profil-edit-btn",onClick:this.toggleEdit},n.a.createElement("i",{className:"fa fa-edit",id:"edit-button"})),n.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname",onChange:this.userHeaderChange}),n.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname",onChange:this.userHeaderChange}),n.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Profession title",id:"title",onChange:this.userHeaderChange})),n.a.createElement("div",{className:"profil-header2"},c,n.a.createElement("div",{className:"profil-availability"},h,s),n.a.createElement("div",{className:"profil-resume"},p,m)),n.a.createElement("form",{className:"profil-content",id:"profil-form",onSubmit:this.saveChanges},n.a.createElement("div",{className:"title title-first"},n.a.createElement("p",null,"About")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"about"},n.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",onChange:this.userHeaderChange,placeholder:"Write something about yourself...",value:this.state.data.user.bio}),u,d)),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Work Experience")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},g,i),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Skills")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},v,l),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Education")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},f,r),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Language")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},b,o),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Contact Info")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email),t)))}}]),t}(n.a.Component),_=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={redirect:"",jwt:localStorage.getItem("jwt"),editFlag:!1,disabled:!0,readonly:!0,dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],job_post:[]},displayMessage:"",displayMessageFlag:!1},a.toggleEdit=a.toggleEdit.bind(Object(h.a)(a)),a.getUserData=a.getUserData.bind(Object(h.a)(a)),a.userHeaderChange=a.userHeaderChange.bind(Object(h.a)(a)),a.availabilityChange=a.availabilityChange.bind(Object(h.a)(a)),a.discardChanges=a.discardChanges.bind(Object(h.a)(a)),a.saveChanges=a.saveChanges.bind(Object(h.a)(a)),a.userDataChange=a.userDataChange.bind(Object(h.a)(a)),a.removeUserData=a.removeUserData.bind(Object(h.a)(a)),a.addUserData=a.addUserData.bind(Object(h.a)(a)),a.getDropListData=a.getDropListData.bind(Object(h.a)(a)),a.imageChange=a.imageChange.bind(Object(h.a)(a)),a.removeImage=a.removeImage.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.removeItem("email"),null===this.state.jwt){var e=n.a.createElement(p.a,{to:"/"});this.setState({redirect:e})}this.getUserData(),this.getDropListData()}},{key:"toggleEdit",value:function(){this.setState({editFlag:!this.state.editFlag});var e=document.getElementById("edit-button");e.classList.contains("fa-times")?(e.classList.remove("fa-times"),e.classList.add("fa-edit")):(e.classList.remove("fa-edit"),e.classList.add("fa-times")),this.setState({disabled:!this.state.disabled,readonly:!this.state.readonly})}},{key:"userHeaderChange",value:function(e){e.preventDefault();var t=e.target.id,a=e.target.value,s=this.state.data;"firstname"===t?s.user.firstname=a:"lastname"===t?s.user.lastname=a:"title"===t?s.user.title=a:"bio"===t&&(s.user.bio=a),this.setState({data:s})}},{key:"availabilityChange",value:function(){var e;"1"===this.state.data.user.availability?((e=this.state.data).user.availability="0",this.setState({data:e})):((e=this.state.data).user.availability="1",this.setState({data:e}))}},{key:"userDataChange",value:function(e){e.preventDefault();var t=e.target.value,a=e.target.id.split("__"),s=a[0],n=a[1],i=a[2],l=this.state.data;l[s][n][i]=t,this.setState({data:l})}},{key:"addUserData",value:function(e){e.preventDefault();var t=this.state.data;"job_post"===e.target.name&&t.job_post.push({id_profession:this.state.dropListData.profession[0].id_profession,title:"",description:""}),this.setState({data:t})}},{key:"removeUserData",value:function(e){e.preventDefault();var t=e.target.id.split("__"),a=t[0],s=t[1],n=this.state.data;n[a][s]="",this.setState({data:n})}},{key:"discardChanges",value:function(){this.setState({data:{user:[],job_post:[]}}),this.getUserData(),this.toggleEdit()}},{key:"imageChange",value:function(e){var t,a,s,n,i,l,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),t=document.getElementById("image-file").files[0],a=t.name,s=["png","jpg","jpeg"],n=a.split(".").pop().toLowerCase(),!s.includes(n)){o.next=26;break}return"http://localhost:80//junior-workers/api/post-image.php",(i=new FormData).append("image_file",t),i.append("jwt",this.state.jwt),o.prev=10,o.next=13,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-image.php",{method:"POST",body:i}));case 13:return l=o.sent,o.next=16,v.a.awrap(l.json());case 16:r=o.sent,200!==l.status?"1"===r.code?this.setState({displayMessage:"Unable to upload image"}):"2"===r.code?this.setState({displayMessage:"Image not in proper format"}):"3"===r.code&&this.setState({displayMessage:"Image's size cannot be larger than 10mb"}):200===l.status&&"0"===r.code&&(this.setState({displayMessage:"Profil image has been updated"}),this.getUserData()),o.next=24;break;case 20:o.prev=20,o.t0=o.catch(10),console.error("Error:",o.t0),this.setState({displayMessage:"Unable to upload image"});case 24:o.next=27;break;case 26:this.setState({displayMessage:"File doesn't have valid image extension."});case 27:this.setState({displayMessageFlag:!this.state.displayMessageFlag});case 28:case"end":return o.stop()}}),null,this,[[10,20]])}},{key:"removeImage",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/remove-user-image.php",e={jwt:this.state.jwt},a.prev=2,a.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/remove-user-image.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:200!==(t=a.sent).status?(console.error("Unable to post user's data"),this.setState({displayMessage:"Unable to remove image",displayMessageFlag:!this.state.displayMessageFlag})):200===t.status&&(this.setState({displayMessage:"Profil image has been removed",displayMessageFlag:!this.state.displayMessageFlag}),this.getUserData()),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),console.error("Error:",a.t0);case 12:case"end":return a.stop()}}),null,this,[[2,9]])}},{key:"saveChanges",value:function(e){var t,a;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e.preventDefault(),"http://localhost:80//junior-workers/api/post-user-data.php",t={jwt:this.state.jwt,data:this.state.data},s.prev=3,s.next=6,v.a.awrap(fetch("http://localhost:80//junior-workers/api/post-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}));case 6:200!==(a=s.sent).status?console.error("Unable to post user's data"):200===a.status&&(this.getUserData(),this.toggleEdit()),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(3),console.error("Error:",s.t0);case 13:case"end":return s.stop()}}),null,this,[[3,10]])}},{key:"getUserData",value:function(){var e,t,a,s;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return"http://localhost:80//junior-workers/api/get-user-data.php",e={jwt:this.state.jwt},i.prev=2,i.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(t=i.sent).status){i.next=10;break}console.error("Unable to get user's data"),i.next=18;break;case 10:if(200!==t.status){i.next=18;break}return i.next=13,v.a.awrap(t.json());case 13:a=i.sent,this.setState({data:a}),s="","candidate"===this.state.data.user.role&&(s=n.a.createElement(p.a,{to:"/my-candidate-profil"})),this.setState({redirect:s});case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(2),console.error("Error:",i.t0);case 23:case"end":return i.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",a.prev=1,a.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=a.sent).status){a.next=9;break}console.error("Unable to get drop list data"),a.next=14;break;case 9:if(200!==e.status){a.next=14;break}return a.next=12,v.a.awrap(e.json());case 12:t=a.sent,this.setState({dropListData:t});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),console.error("Error:",a.t0);case 19:case"end":return a.stop()}}),null,this,[[1,16]])}},{key:"render",value:function(){var e=this,t="",s="",i="",l="";this.state.editFlag&&(t=n.a.createElement("div",{className:"change-buttons"},n.a.createElement("button",{type:"submit"},n.a.createElement("i",{className:"fa fa-check"})),n.a.createElement("button",{onClick:this.discardChanges},n.a.createElement("i",{className:"fa fa-times"}))),s=n.a.createElement("button",{className:"profil-availability-button",onClick:this.availabilityChange},n.a.createElement("i",{className:"fa fa-refresh"})),i=n.a.createElement("button",{className:"add-btn",onClick:this.addUserData,name:"job_post"},n.a.createElement("i",{className:"fa fa-plus"}),"Add Job Post"),l=n.a.createElement("div",{className:"profil-image-buttons"},n.a.createElement("label",{htmlFor:"image-file",title:"upload new profil picture"},n.a.createElement("i",{className:"fa fa-upload"})),n.a.createElement("input",{id:"image-file",type:"file",onChange:this.imageChange,name:"image"}),n.a.createElement("button",{title:"remove saved profil picture",onClick:this.removeImage},n.a.createElement("i",{className:"fa fa-trash"}))));var r=n.a.createElement("p",null,"Not Hiring");"1"===this.state.data.user.availability&&(r=n.a.createElement("p",null,"Hiring"));var o=[];return this.state.data.job_post.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"work-remove",id:"job_post__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.profession.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_profession,key:"profession_option__"+a+"__"+t},e.title))})),o.push(n.a.createElement("div",{className:"post",key:"job_post"+a},n.a.createElement("p",{className:"post-label"},"Job title"),n.a.createElement("textarea",{type:"text",readOnly:e.state.readonly,id:"job_post__"+a+"__title",onChange:e.userDataChange,defaultValue:t.title,placeholder:"Job title",required:!0}),n.a.createElement("p",{className:"post-label"},"Looking for"),n.a.createElement("select",{id:"job_post__"+a+"__id_profession",disabled:e.state.disabled,value:t.id_profession,onChange:e.userDataChange},i),n.a.createElement("p",{className:"post-label"},"Job Description"),n.a.createElement("textarea",{readOnly:e.state.readonly,id:"job_post__"+a+"__description",onChange:e.userDataChange,defaultValue:t.description,placeholder:"Describe the position for the job here",required:!0}),s))}})),this.state.data.job_post!==[]&&0!==this.state.data.job_post.length||(o="No Job posts yet"),n.a.createElement("div",{className:"Profil"},this.state.redirect,n.a.createElement(k,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag}),n.a.createElement("img",{id:"bg",className:"background",src:a(15)}),n.a.createElement("div",{className:"logo"},n.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),n.a.createElement("div",{className:"title2"},"Workers")),n.a.createElement(y,{selectedLink:"profil",role:this.state.data.user.role}),n.a.createElement("div",{className:"profil-container"},n.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),n.a.createElement("div",{className:"profil-header"},n.a.createElement("button",{className:"profil-edit-btn",onClick:this.toggleEdit},n.a.createElement("i",{className:"fa fa-edit",id:"edit-button"})),n.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname",onChange:this.userHeaderChange}),n.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname",onChange:this.userHeaderChange}),n.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Company name",id:"title",onChange:this.userHeaderChange})),n.a.createElement("div",{className:"profil-header2"},l,n.a.createElement("div",{className:"profil-availability"},r,s)),n.a.createElement("form",{className:"profil-content",id:"profil-form",onSubmit:this.saveChanges},n.a.createElement("div",{className:"title title-first"},n.a.createElement("p",null,"About")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"about"},n.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",onChange:this.userHeaderChange,placeholder:"Write something about your company...",value:this.state.data.user.bio}))),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Job Posts")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},o,i),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Contact Info")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email),t)))}}]),t}(n.a.Component),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={redirect:"",email:localStorage.getItem("email"),role:localStorage.getItem("role"),jwt:localStorage.getItem("jwt"),disabled:!0,readonly:!0,data:{user:[],experience:[],skill:[],education:[],language:[],job_post:[]},dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},navbar:""},a.getUserData=a.getUserData.bind(Object(h.a)(a)),a.getDropListData=a.getDropListData.bind(Object(h.a)(a)),a.redirectBack=a.redirectBack.bind(Object(h.a)(a)),a.downloadResume=a.downloadResume.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(""===this.state.email||null===this.state.email){var e=n.a.createElement(p.a,{to:"/"});this.setState({redirect:e})}else this.getDropListData(),this.getUserData()}},{key:"getDropListData",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",a.prev=1,a.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=a.sent).status){a.next=9;break}console.error("Unable to get drop list data"),a.next=14;break;case 9:if(200!==e.status){a.next=14;break}return a.next=12,v.a.awrap(e.json());case 12:t=a.sent,this.setState({dropListData:t});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),console.error("Error:",a.t0);case 19:case"end":return a.stop()}}),null,this,[[1,16]])}},{key:"getUserData",value:function(){var e,t,a,s,i;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return"http://localhost:80//junior-workers/api/get-view-user-data.php",e={email:this.state.email},l.prev=2,l.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-view-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(t=l.sent).status){l.next=12;break}console.error("Unable to get user's data"),a=n.a.createElement(p.a,{to:"/search"}),this.setState({redirect:a}),l.next=18;break;case 12:if(200!==t.status){l.next=18;break}return l.next=15,v.a.awrap(t.json());case 15:s=l.sent,this.setState({data:s}),null!==this.state.jwt&&""!==this.state.jwt&&(i=n.a.createElement(y,{selectedLink:"nothing",role:this.state.role}),this.setState({navbar:i}));case 18:l.next=23;break;case 20:l.prev=20,l.t0=l.catch(2),console.error("Error:",l.t0);case 23:case"end":return l.stop()}}),null,this,[[2,20]])}},{key:"downloadResume",value:function(){var e,t=this;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:"http://localhost:80//junior-workers/api/get-user-resume.php",(e=new FormData).append("email",this.state.email),fetch("http://localhost:80//junior-workers/api/get-user-resume.php",{method:"POST",body:e}).then((function(e){200===e.status?e.blob().then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="resume.pdf",a.click()})):t.setState({displayMessage:"Unable to download resume",displayMessageFlag:!t.state.displayMessageFlag})}));case 4:case"end":return a.stop()}}),null,this)}},{key:"redirectBack",value:function(){var e=n.a.createElement(p.a,{to:"/search"});this.setState({redirect:e})}},{key:"render",value:function(){var e=this,t="";""!==this.state.data.user.video_path&&null!==this.state.data.user.video_path&&(t=n.a.createElement("video",{className:"video",type:"video/mp4",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.video_path,controls:!0},"Unable to play video. Please consider updating your browser."));var s="";""!==this.state.data.user.resume_path&&null!==this.state.data.user.resume_path&&(s=n.a.createElement("button",{className:"profil-resume-button",onClick:this.downloadResume},n.a.createElement("i",{className:"fa fa-arrow-down"}),"Resume"));var i=n.a.createElement("p",null,"Not available");"1"===this.state.data.user.availability&&(i=n.a.createElement("p",null,"Available"));var l=[];this.state.data.experience.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"work-remove",id:"experience__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.profession.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_profession,key:"profession_option__"+a+"__"+t},e.title))})),l.push(n.a.createElement("div",{className:"work",key:"experience"+a},n.a.createElement("p",{className:"work-label"},"Worked as"),n.a.createElement("select",{id:"experience__"+a+"__id_profession",disabled:e.state.disabled,value:t.id_profession},i),n.a.createElement("p",{className:"work-label"},"At"),n.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+a+"__company",defaultValue:t.company,placeholder:"company",required:!0}),n.a.createElement("p",{className:"work-label"},"Between"),n.a.createElement("input",{type:"text",readOnly:e.state.readonly,id:"experience__"+a+"__date",defaultValue:t.date,placeholder:"date",required:!0}),s))}})),this.state.data.experience!==[]&&0!==this.state.data.experience.length||(l="No experience added so far");var r=[];this.state.data.skill.forEach((function(t,a){if(""!==t){var s=[];e.state.dropListData.skill.forEach((function(e,t){s.push(n.a.createElement("option",{value:e.id_skill,key:"skill_option__"+a+"__"+t},e.title))})),r.push(n.a.createElement("div",{className:"skill",key:"skill"+a},n.a.createElement("div",{className:"skill-dot"}),n.a.createElement("select",{id:"skill__"+a+"__id_skill",disabled:e.state.disabled,value:t.id_skill},s)))}})),this.state.data.skill!==[]&&0!==this.state.data.skill.length||(r="No skills so far");var o=[];this.state.data.education.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"education-remove",id:"education__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.education.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_education,key:"education_option__"+a+"__"+t},e.title))}));var l=[];e.state.dropListData.education_level.forEach((function(e,t){l.push(n.a.createElement("option",{value:e.id_education_level,key:"education_level_option__"+a+"__"+t},e.title))})),o.push(n.a.createElement("div",{className:"education",key:"education"+a},n.a.createElement("div",{className:"education-dot"}),n.a.createElement("select",{id:"education__"+a+"__id_education_level",disabled:e.state.disabled,value:t.id_education_level},l),n.a.createElement("select",{id:"education__"+a+"__id_education",disabled:e.state.disabled,value:t.id_education},i),s))}})),this.state.data.education!==[]&&0!==this.state.data.education.length||(o="No education added so far");var c=[];return this.state.data.language.forEach((function(t,a){if(""!==t){var s="";e.state.editFlag&&(s=n.a.createElement("button",{className:"language-remove",id:"language__"+a+"__remove",onClick:e.removeUserData},n.a.createElement("i",{className:"fa fa-times"})));var i=[];e.state.dropListData.language.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_language,key:"language_option__"+a+"__"+t},e.title))}));var l=[];e.state.dropListData.language_level.forEach((function(e,t){l.push(n.a.createElement("option",{value:e.id_language_level,key:"language_level_option__"+a+"__"+t},e.title))})),c.push(n.a.createElement("div",{className:"language",key:"language"+a},n.a.createElement("div",{className:"language-dot"}),n.a.createElement("select",{id:"language__"+a+"__id_language_level",disabled:e.state.disabled,value:t.id_language_level},l),n.a.createElement("select",{id:"language__"+a+"__id_language",value:t.id_language,disabled:e.state.disabled},i),s))}})),this.state.data.language!==[]&&0!==this.state.data.language.length||(c="No languages added so far"),n.a.createElement("div",{className:"Profil"},this.state.redirect,n.a.createElement("img",{id:"bg",className:"background",src:a(15)}),n.a.createElement("div",{className:"logo"},n.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),n.a.createElement("div",{className:"title2"},"Workers")),this.state.navbar,n.a.createElement("div",{className:"profil-container"},n.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),n.a.createElement("div",{className:"profil-header"},n.a.createElement("button",{className:"profil-edit-btn",onClick:this.redirectBack},n.a.createElement("i",{className:"fa fa-arrow-left",id:"edit-button"})),n.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname"}),n.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname"}),n.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Profession title",id:"title"})),n.a.createElement("div",{className:"profil-header2"},n.a.createElement("div",{className:"profil-availability"},i),n.a.createElement("div",{className:"profil-resume"},s)),n.a.createElement("form",{className:"profil-content",id:"profil-form"},n.a.createElement("div",{className:"title title-first"},n.a.createElement("p",null,"About")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"about"},n.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",placeholder:"Write something about yourself...",value:this.state.data.user.bio}),t)),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Work Experience")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},l),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Skills")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},r),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Education")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},o),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Language")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},c),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Contact Info")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email))))}}]),t}(n.a.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={redirect:"",email:localStorage.getItem("email"),role:localStorage.getItem("role"),jwt:localStorage.getItem("jwt"),editFlag:!1,disabled:!0,readonly:!0,dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],experience:[],skill:[],education:[],language:[],job_post:[]},displayMessage:"",displayMessageFlag:!1,navbar:""},a.getUserData=a.getUserData.bind(Object(h.a)(a)),a.getDropListData=a.getDropListData.bind(Object(h.a)(a)),a.redirectBack=a.redirectBack.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(""===this.state.email||null===this.state.email){var e=n.a.createElement(p.a,{to:"/"});this.setState({redirect:e})}else this.getDropListData(),this.getUserData()}},{key:"getUserData",value:function(){var e,t,a,s,i;return v.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return"http://localhost:80//junior-workers/api/get-view-user-data.php",e={email:this.state.email},l.prev=2,l.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-view-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(t=l.sent).status){l.next=12;break}console.error("Unable to get user's data"),a=n.a.createElement(p.a,{to:"/search"}),this.setState({redirect:a}),l.next=18;break;case 12:if(200!==t.status){l.next=18;break}return l.next=15,v.a.awrap(t.json());case 15:s=l.sent,this.setState({data:s}),null!==this.state.jwt&&""!==this.state.jwt&&(i=n.a.createElement(y,{selectedLink:"nothing",role:this.state.role}),this.setState({navbar:i}));case 18:l.next=23;break;case 20:l.prev=20,l.t0=l.catch(2),console.error("Error:",l.t0);case 23:case"end":return l.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",a.prev=1,a.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=a.sent).status){a.next=9;break}console.error("Unable to get drop list data"),a.next=14;break;case 9:if(200!==e.status){a.next=14;break}return a.next=12,v.a.awrap(e.json());case 12:t=a.sent,this.setState({dropListData:t});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),console.error("Error:",a.t0);case 19:case"end":return a.stop()}}),null,this,[[1,16]])}},{key:"redirectBack",value:function(){var e=n.a.createElement(p.a,{to:"/search"});this.setState({redirect:e})}},{key:"render",value:function(){var e=this,t=n.a.createElement("p",null,"Not Hiring");"1"===this.state.data.user.availability&&(t=n.a.createElement("p",null,"Hiring"));var s=[];return this.state.data.job_post.forEach((function(t,a){if(""!==t){var i=[];e.state.dropListData.profession.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_profession,key:"profession_option__"+a+"__"+t},e.title))})),s.push(n.a.createElement("div",{className:"post",key:"job_post"+a},n.a.createElement("p",{className:"post-label"},"Job title"),n.a.createElement("textarea",{type:"text",readOnly:e.state.readonly,id:"job_post__"+a+"__title",defaultValue:t.title,placeholder:"Job title",required:!0}),n.a.createElement("p",{className:"post-label"},"Looking for"),n.a.createElement("select",{id:"job_post__"+a+"__id_profession",disabled:e.state.disabled,value:t.id_profession},i),n.a.createElement("p",{className:"post-label"},"Job Description"),n.a.createElement("textarea",{readOnly:e.state.readonly,id:"job_post__"+a+"__description",defaultValue:t.description,placeholder:"Describe the position for the job here",required:!0})))}})),this.state.data.job_post!==[]&&0!==this.state.data.job_post.length||(s="No Job posts yet"),n.a.createElement("div",{className:"Profil"},this.state.redirect,n.a.createElement(k,{displayMessage:this.state.displayMessage,displayMessageFlag:this.state.displayMessageFlag}),n.a.createElement("img",{id:"bg",className:"background",src:a(15)}),n.a.createElement("div",{className:"logo"},n.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),n.a.createElement("div",{className:"title2"},"Workers")),this.state.navbar,n.a.createElement("div",{className:"profil-container"},n.a.createElement("img",{className:"profil-image",src:"http://localhost/junior-workers/api/uploads/"+this.state.data.user.image_path}),n.a.createElement("div",{className:"profil-header"},n.a.createElement("button",{className:"profil-edit-btn",onClick:this.redirectBack},n.a.createElement("i",{className:"fa fa-arrow-left",id:"edit-button"})),n.a.createElement("input",{type:"text",className:"profil-name firstname",value:this.state.data.user.firstname,readOnly:this.state.readonly,placeholder:"Firstname",id:"firstname"}),n.a.createElement("input",{type:"text",className:"profil-name lastname",value:this.state.data.user.lastname,readOnly:this.state.readonly,placeholder:"Lastname",id:"lastname"}),n.a.createElement("input",{type:"text",className:"profil-headline",value:this.state.data.user.title,readOnly:this.state.readonly,placeholder:"Company name",id:"title"})),n.a.createElement("div",{className:"profil-header2"},n.a.createElement("div",{className:"profil-availability"},t)),n.a.createElement("form",{className:"profil-content",id:"profil-form",onSubmit:this.saveChanges},n.a.createElement("div",{className:"title title-first"},n.a.createElement("p",null,"About")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},n.a.createElement("div",{className:"about"},n.a.createElement("textarea",{readOnly:this.state.readonly,className:"text",id:"bio",placeholder:"Write something about your company...",value:this.state.data.user.bio}))),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Job Posts")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},s),n.a.createElement("div",{className:"title"},n.a.createElement("p",null,"Contact Info")),n.a.createElement("div",{className:"title-hr"}),n.a.createElement("div",{className:"section"},"Email : ",this.state.data.user.email))))}}]),t}(n.a.Component),x=(a(45),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this))).state={redirect:"",jwt:localStorage.getItem("jwt"),dropListData:{profession:[],skill:[],education:[],education_level:[],language:[],language_level:[]},data:{user:[],experience:[],skill:[],education:[],language:[],job_post:[]},navbar:"",searchType:"candidate",searchInput:"",results:[{role:"candidate"}],load:"candidate"},a.changeSearchType=a.changeSearchType.bind(Object(h.a)(a)),a.changeSearchInput=a.changeSearchInput.bind(Object(h.a)(a)),a.getUserData=a.getUserData.bind(Object(h.a)(a)),a.searchUsers=a.searchUsers.bind(Object(h.a)(a)),a.getDropListData=a.getDropListData.bind(Object(h.a)(a)),a.viewProfil=a.viewProfil.bind(Object(h.a)(a)),a.goToMain=a.goToMain.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){localStorage.removeItem("email"),""===this.state.jwt&&null===this.state.jwt||this.getUserData(),this.getDropListData(),this.searchUsers(),""!==localStorage.getItem("searchInput")&&this.setState({searchInput:localStorage.getItem("searchInput")})}},{key:"getUserData",value:function(){var e,t,a,s;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return"http://localhost:80//junior-workers/api/get-user-data.php",e={jwt:this.state.jwt},i.prev=2,i.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-user-data.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(t=i.sent).status){i.next=10;break}console.error("Unable to get user's data"),i.next=18;break;case 10:if(200!==t.status){i.next=18;break}return i.next=13,v.a.awrap(t.json());case 13:a=i.sent,this.setState({data:a}),s=n.a.createElement(y,{selectedLink:"search",role:this.state.data.user.role}),this.setState({navbar:s}),localStorage.setItem("role",this.state.data.user.role);case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(2),console.error("Error:",i.t0);case 23:case"end":return i.stop()}}),null,this,[[2,20]])}},{key:"getDropListData",value:function(){var e,t;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return"http://localhost:80//junior-workers/api/get-droplist-data.php",a.prev=1,a.next=4,v.a.awrap(fetch("http://localhost:80//junior-workers/api/get-droplist-data.php",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 4:if(200===(e=a.sent).status){a.next=9;break}console.error("Unable to get drop list data"),a.next=14;break;case 9:if(200!==e.status){a.next=14;break}return a.next=12,v.a.awrap(e.json());case 12:t=a.sent,this.setState({dropListData:t});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(1),console.error("Error:",a.t0);case 19:case"end":return a.stop()}}),null,this,[[1,16]])}},{key:"searchUsers",value:function(){var e,t,a;return v.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return"http://localhost:80//junior-workers/api/search.php",e={searchType:this.state.searchType,searchInput:this.state.searchInput},s.prev=2,s.next=5,v.a.awrap(fetch("http://localhost:80//junior-workers/api/search.php",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}));case 5:if(200===(t=s.sent).status){s.next=10;break}console.error("Unable to search"),s.next=15;break;case 10:if(200!==t.status){s.next=15;break}return s.next=13,v.a.awrap(t.json());case 13:a=s.sent,this.setState({results:a.results,load:this.state.searchType});case 15:s.next=20;break;case 17:s.prev=17,s.t0=s.catch(2),console.error("Error:",s.t0);case 20:case"end":return s.stop()}}),null,this,[[2,17]])}},{key:"changeSearchInput",value:function(e){e.preventDefault();var t=document.getElementById("search-input");this.setState({searchInput:t.value})}},{key:"changeSearchType",value:function(e){e.preventDefault();var t=document.getElementById("candidate-search"),a=document.getElementById("job-post-search");"candidate-search"===e.target.id?(t.classList.add("search-button-active"),a.classList.remove("search-button-active"),this.setState({searchType:"candidate"})):"job-post-search"===e.target.id&&(t.classList.remove("search-button-active"),a.classList.add("search-button-active"),this.setState({searchType:"hirer"}))}},{key:"viewProfil",value:function(e){e.preventDefault();var t,a=e.target.id.split("_")[1],s=e.target.id.split("_")[2];localStorage.setItem("email",a),"candidate"===s?t=n.a.createElement(p.a,{to:"/candidate-profil"}):"hirer"===s&&(t=n.a.createElement(p.a,{to:"/hirer-profil"})),this.setState({redirect:t})}},{key:"goToMain",value:function(){var e=n.a.createElement(p.a,{to:"/"});this.setState({redirect:e})}},{key:"render",value:function(){var e=this,t=n.a.createElement("div",{className:"msg"},"No results found");this.state.results!==[]&&("candidate"===this.state.load?(t=[],this.state.results.forEach((function(a,s){t.push(n.a.createElement("div",{className:"result",key:"result"+s},n.a.createElement("img",{src:"http://localhost/junior-workers/api/uploads/"+a.image_path}),n.a.createElement("div",{className:"labels"},n.a.createElement("div",{className:"name"},a.firstname),n.a.createElement("div",{className:"lastname"},a.lastname),n.a.createElement("div",{className:"title"},a.title),n.a.createElement("button",{id:"view-profil"+s+"_"+a.email+"_"+a.role,onClick:e.viewProfil},n.a.createElement("i",{className:"fa fa-eye"}),n.a.createElement("div",null,"View profil")))))}))):"hirer"===this.state.load&&(t=[],this.state.results.forEach((function(a,s){var i=[];e.state.dropListData.profession.forEach((function(e,t){i.push(n.a.createElement("option",{value:e.id_profession,key:"profession_option__"+s+"__"+t},e.title))})),t.push(n.a.createElement("div",{className:"result",key:"result"+s},n.a.createElement("img",{src:"http://localhost/junior-workers/api/uploads/"+a.image_path}),n.a.createElement("div",{className:"labels"},n.a.createElement("div",{className:"name"},a.firstname),n.a.createElement("div",{className:"lastname"},a.lastname),n.a.createElement("div",{className:"title"},a.title),n.a.createElement("button",{id:"view-profil"+s+"_"+a.email+"_"+a.role,onClick:e.viewProfil},n.a.createElement("i",{className:"fa fa-eye"}),n.a.createElement("div",null,"View profil"))),n.a.createElement("div",{className:"job"},n.a.createElement("div",{className:"title"},a.job_title),n.a.createElement("div",{className:"description"},a.description),n.a.createElement("div",{className:"looking"},n.a.createElement("div",{className:"label"},"Looking for a"),n.a.createElement("select",{disabled:!0,value:a.id_profession},i)))))}))));var s="";return""!==this.state.jwt&&null!==this.state.jwt||(s=n.a.createElement("button",{className:"return-button",onClick:this.goToMain},n.a.createElement("i",{className:"fa fa-arrow-left"}))),n.a.createElement("div",{className:"Search"},this.state.redirect,this.state.navbar,n.a.createElement("img",{id:"bg",className:"background",src:a(15)}),n.a.createElement("div",{className:"logo"},n.a.createElement("div",{className:"title1",style:{color:"#232323",backgroundColor:"#F25F5C"}},"Junior"),n.a.createElement("div",{className:"title2"},"Workers")),s,n.a.createElement("div",{className:"search-container"},n.a.createElement("div",{className:"control"},n.a.createElement("div",{className:"search-field"},n.a.createElement("i",{className:"fa fa-search"}),n.a.createElement("input",{type:"text",placeholder:"Type...",id:"search-input",onChange:this.changeSearchInput}),n.a.createElement("hr",null),n.a.createElement("button",{onClick:this.searchUsers},"Search")),n.a.createElement("div",{className:"target-field"},n.a.createElement("button",{id:"candidate-search",onClick:this.changeSearchType,className:"search-button-active"},"Candidate"),n.a.createElement("button",{id:"job-post-search",onClick:this.changeSearchType},"Job post"))),n.a.createElement("div",{className:"results"},t)))}}]),t}(n.a.Component)),C=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement(u.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(p.d,null,n.a.createElement(p.b,{path:"/my-candidate-profil"},n.a.createElement(j,null)),n.a.createElement(p.b,{path:"/my-hirer-profil"},n.a.createElement(_,null)),n.a.createElement(p.b,{path:"/search"},n.a.createElement(x,null)),n.a.createElement(p.b,{path:"/candidate-profil"},n.a.createElement(N,null)),n.a.createElement(p.b,{path:"/hirer-profil"},n.a.createElement(w,null)),n.a.createElement(p.b,{path:"/"},n.a.createElement(E,null)))))}}]),t}(n.a.Component);l.a.render(n.a.createElement(C,null),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.14efcafb.chunk.js.map